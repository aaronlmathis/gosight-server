<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# pgalertstore

```go
import "github.com/aaronlmathis/gosight-server/internal/store/alertstore/pgalertstore"
```

## Index

- [type PGAlertStore](<#PGAlertStore>)
  - [func NewPGAlertStore\(db \*sql.DB\) \*PGAlertStore](<#NewPGAlertStore>)
  - [func \(s \*PGAlertStore\) CountAlertsFiltered\(ctx context.Context, q model.AlertQuery\) \(int, error\)](<#PGAlertStore.CountAlertsFiltered>)
  - [func \(s \*PGAlertStore\) GetByID\(ctx context.Context, id string\) \(model.AlertInstance, error\)](<#PGAlertStore.GetByID>)
  - [func \(s \*PGAlertStore\) ListActiveAlerts\(ctx context.Context\) \(\[\]model.AlertInstance, error\)](<#PGAlertStore.ListActiveAlerts>)
  - [func \(s \*PGAlertStore\) ListAlertHistory\(ctx context.Context, since time.Time\) \(\[\]model.AlertInstance, error\)](<#PGAlertStore.ListAlertHistory>)
  - [func \(s \*PGAlertStore\) ListAlerts\(ctx context.Context\) \(\[\]model.AlertInstance, error\)](<#PGAlertStore.ListAlerts>)
  - [func \(s \*PGAlertStore\) ListAlertsFiltered\(ctx context.Context, q model.AlertQuery\) \(\[\]model.AlertInstance, error\)](<#PGAlertStore.ListAlertsFiltered>)
  - [func \(s \*PGAlertStore\) ResolveAlert\(ctx context.Context, ruleID, target string, resolvedAt time.Time\) error](<#PGAlertStore.ResolveAlert>)
  - [func \(s \*PGAlertStore\) UpsertAlert\(ctx context.Context, a \*model.AlertInstance\) error](<#PGAlertStore.UpsertAlert>)


<a name="PGAlertStore"></a>
## type [PGAlertStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L46-L48>)

PGAlertStore is a PostgreSQL implementation of the AlertStore interface.

```go
type PGAlertStore struct {
    // contains filtered or unexported fields
}
```

<a name="NewPGAlertStore"></a>
### func [NewPGAlertStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L51>)

```go
func NewPGAlertStore(db *sql.DB) *PGAlertStore
```

NewPGAlertStore creates a new PGAlertStore instance with the given database connection.

<a name="PGAlertStore.CountAlertsFiltered"></a>
### func \(\*PGAlertStore\) [CountAlertsFiltered](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L375>)

```go
func (s *PGAlertStore) CountAlertsFiltered(ctx context.Context, q model.AlertQuery) (int, error)
```



<a name="PGAlertStore.GetByID"></a>
### func \(\*PGAlertStore\) [GetByID](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L58>)

```go
func (s *PGAlertStore) GetByID(ctx context.Context, id string) (model.AlertInstance, error)
```

GetByID retrieves an alert by its ID from the PostgreSQL database. GetByID retrieves an alert instance by ID from the PostgreSQL database. GetByID retrieves an alert by its ID from the PostgreSQL database.

<a name="PGAlertStore.ListActiveAlerts"></a>
### func \(\*PGAlertStore\) [ListActiveAlerts](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L237>)

```go
func (s *PGAlertStore) ListActiveAlerts(ctx context.Context) ([]model.AlertInstance, error)
```



<a name="PGAlertStore.ListAlertHistory"></a>
### func \(\*PGAlertStore\) [ListAlertHistory](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L256>)

```go
func (s *PGAlertStore) ListAlertHistory(ctx context.Context, since time.Time) ([]model.AlertInstance, error)
```



<a name="PGAlertStore.ListAlerts"></a>
### func \(\*PGAlertStore\) [ListAlerts](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L119>)

```go
func (s *PGAlertStore) ListAlerts(ctx context.Context) ([]model.AlertInstance, error)
```



<a name="PGAlertStore.ListAlertsFiltered"></a>
### func \(\*PGAlertStore\) [ListAlertsFiltered](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L299>)

```go
func (s *PGAlertStore) ListAlertsFiltered(ctx context.Context, q model.AlertQuery) ([]model.AlertInstance, error)
```



<a name="PGAlertStore.ResolveAlert"></a>
### func \(\*PGAlertStore\) [ResolveAlert](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L224>)

```go
func (s *PGAlertStore) ResolveAlert(ctx context.Context, ruleID, target string, resolvedAt time.Time) error
```



<a name="PGAlertStore.UpsertAlert"></a>
### func \(\*PGAlertStore\) [UpsertAlert](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/alertstore/pgalertstore/pgalertstore.go#L194>)

```go
func (s *PGAlertStore) UpsertAlert(ctx context.Context, a *model.AlertInstance) error
```

UpsertAlert inserts or updates an alert instance in the database.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
