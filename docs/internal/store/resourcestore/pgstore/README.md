<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# pgstore

```go
import "github.com/aaronlmathis/gosight-server/internal/store/resourcestore/pgstore"
```

## Index

- [func NewPGResourceStore\(db \*sql.DB\) resourcestore.ResourceStore](<#NewPGResourceStore>)
- [type PGResourceStore](<#PGResourceStore>)
  - [func \(s \*PGResourceStore\) Count\(ctx context.Context, filter \*model.ResourceFilter\) \(int, error\)](<#PGResourceStore.Count>)
  - [func \(s \*PGResourceStore\) Create\(ctx context.Context, resource \*model.Resource\) error](<#PGResourceStore.Create>)
  - [func \(s \*PGResourceStore\) CreateBatch\(ctx context.Context, resources \[\]\*model.Resource\) error](<#PGResourceStore.CreateBatch>)
  - [func \(s \*PGResourceStore\) Delete\(ctx context.Context, id string\) error](<#PGResourceStore.Delete>)
  - [func \(s \*PGResourceStore\) Get\(ctx context.Context, id string\) \(\*model.Resource, error\)](<#PGResourceStore.Get>)
  - [func \(s \*PGResourceStore\) GetByLabels\(ctx context.Context, labels map\[string\]string\) \(\[\]\*model.Resource, error\)](<#PGResourceStore.GetByLabels>)
  - [func \(s \*PGResourceStore\) GetByTags\(ctx context.Context, tags map\[string\]string\) \(\[\]\*model.Resource, error\)](<#PGResourceStore.GetByTags>)
  - [func \(s \*PGResourceStore\) GetChildren\(ctx context.Context, parentID string\) \(\[\]\*model.Resource, error\)](<#PGResourceStore.GetChildren>)
  - [func \(s \*PGResourceStore\) GetParent\(ctx context.Context, childID string\) \(\*model.Resource, error\)](<#PGResourceStore.GetParent>)
  - [func \(s \*PGResourceStore\) GetResourceSummary\(ctx context.Context\) \(map\[string\]int, error\)](<#PGResourceStore.GetResourceSummary>)
  - [func \(s \*PGResourceStore\) GetResourcesByKind\(ctx context.Context, kind string\) \(\[\]\*model.Resource, error\)](<#PGResourceStore.GetResourcesByKind>)
  - [func \(s \*PGResourceStore\) GetStaleResources\(ctx context.Context, threshold time.Duration\) \(\[\]\*model.Resource, error\)](<#PGResourceStore.GetStaleResources>)
  - [func \(s \*PGResourceStore\) List\(ctx context.Context, filter \*model.ResourceFilter, limit, offset int\) \(\[\]\*model.Resource, error\)](<#PGResourceStore.List>)
  - [func \(s \*PGResourceStore\) Search\(ctx context.Context, query \*model.ResourceSearchQuery\) \(\[\]\*model.Resource, error\)](<#PGResourceStore.Search>)
  - [func \(s \*PGResourceStore\) Update\(ctx context.Context, resource \*model.Resource\) error](<#PGResourceStore.Update>)
  - [func \(s \*PGResourceStore\) UpdateBatch\(ctx context.Context, resources \[\]\*model.Resource\) error](<#PGResourceStore.UpdateBatch>)
  - [func \(s \*PGResourceStore\) UpdateLabels\(ctx context.Context, resourceID string, labels map\[string\]string\) error](<#PGResourceStore.UpdateLabels>)
  - [func \(s \*PGResourceStore\) UpdateLastSeen\(ctx context.Context, resourceID string, lastSeen time.Time\) error](<#PGResourceStore.UpdateLastSeen>)
  - [func \(s \*PGResourceStore\) UpdateStatus\(ctx context.Context, resourceID string, status string\) error](<#PGResourceStore.UpdateStatus>)
  - [func \(s \*PGResourceStore\) UpdateTags\(ctx context.Context, resourceID string, tags map\[string\]string\) error](<#PGResourceStore.UpdateTags>)


<a name="NewPGResourceStore"></a>
## func [NewPGResourceStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L20>)

```go
func NewPGResourceStore(db *sql.DB) resourcestore.ResourceStore
```



<a name="PGResourceStore"></a>
## type [PGResourceStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L16-L18>)



```go
type PGResourceStore struct {
    // contains filtered or unexported fields
}
```

<a name="PGResourceStore.Count"></a>
### func \(\*PGResourceStore\) [Count](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L771>)

```go
func (s *PGResourceStore) Count(ctx context.Context, filter *model.ResourceFilter) (int, error)
```



<a name="PGResourceStore.Create"></a>
### func \(\*PGResourceStore\) [Create](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L24>)

```go
func (s *PGResourceStore) Create(ctx context.Context, resource *model.Resource) error
```



<a name="PGResourceStore.CreateBatch"></a>
### func \(\*PGResourceStore\) [CreateBatch](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L74>)

```go
func (s *PGResourceStore) CreateBatch(ctx context.Context, resources []*model.Resource) error
```



<a name="PGResourceStore.Delete"></a>
### func \(\*PGResourceStore\) [Delete](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L261>)

```go
func (s *PGResourceStore) Delete(ctx context.Context, id string) error
```



<a name="PGResourceStore.Get"></a>
### func \(\*PGResourceStore\) [Get](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L174>)

```go
func (s *PGResourceStore) Get(ctx context.Context, id string) (*model.Resource, error)
```



<a name="PGResourceStore.GetByLabels"></a>
### func \(\*PGResourceStore\) [GetByLabels](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L465>)

```go
func (s *PGResourceStore) GetByLabels(ctx context.Context, labels map[string]string) ([]*model.Resource, error)
```



<a name="PGResourceStore.GetByTags"></a>
### func \(\*PGResourceStore\) [GetByTags](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L530>)

```go
func (s *PGResourceStore) GetByTags(ctx context.Context, tags map[string]string) ([]*model.Resource, error)
```



<a name="PGResourceStore.GetChildren"></a>
### func \(\*PGResourceStore\) [GetChildren](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L450>)

```go
func (s *PGResourceStore) GetChildren(ctx context.Context, parentID string) ([]*model.Resource, error)
```



<a name="PGResourceStore.GetParent"></a>
### func \(\*PGResourceStore\) [GetParent](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L454>)

```go
func (s *PGResourceStore) GetParent(ctx context.Context, childID string) (*model.Resource, error)
```



<a name="PGResourceStore.GetResourceSummary"></a>
### func \(\*PGResourceStore\) [GetResourceSummary](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L700>)

```go
func (s *PGResourceStore) GetResourceSummary(ctx context.Context) (map[string]int, error)
```



<a name="PGResourceStore.GetResourcesByKind"></a>
### func \(\*PGResourceStore\) [GetResourcesByKind](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L721>)

```go
func (s *PGResourceStore) GetResourcesByKind(ctx context.Context, kind string) ([]*model.Resource, error)
```



<a name="PGResourceStore.GetStaleResources"></a>
### func \(\*PGResourceStore\) [GetStaleResources](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L651>)

```go
func (s *PGResourceStore) GetStaleResources(ctx context.Context, threshold time.Duration) ([]*model.Resource, error)
```



<a name="PGResourceStore.List"></a>
### func \(\*PGResourceStore\) [List](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L366>)

```go
func (s *PGResourceStore) List(ctx context.Context, filter *model.ResourceFilter, limit, offset int) ([]*model.Resource, error)
```



<a name="PGResourceStore.Search"></a>
### func \(\*PGResourceStore\) [Search](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L795>)

```go
func (s *PGResourceStore) Search(ctx context.Context, query *model.ResourceSearchQuery) ([]*model.Resource, error)
```



<a name="PGResourceStore.Update"></a>
### func \(\*PGResourceStore\) [Update](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L210>)

```go
func (s *PGResourceStore) Update(ctx context.Context, resource *model.Resource) error
```



<a name="PGResourceStore.UpdateBatch"></a>
### func \(\*PGResourceStore\) [UpdateBatch](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L266>)

```go
func (s *PGResourceStore) UpdateBatch(ctx context.Context, resources []*model.Resource) error
```



<a name="PGResourceStore.UpdateLabels"></a>
### func \(\*PGResourceStore\) [UpdateLabels](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L595>)

```go
func (s *PGResourceStore) UpdateLabels(ctx context.Context, resourceID string, labels map[string]string) error
```



<a name="PGResourceStore.UpdateLastSeen"></a>
### func \(\*PGResourceStore\) [UpdateLastSeen](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L644>)

```go
func (s *PGResourceStore) UpdateLastSeen(ctx context.Context, resourceID string, lastSeen time.Time) error
```



<a name="PGResourceStore.UpdateStatus"></a>
### func \(\*PGResourceStore\) [UpdateStatus](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L637>)

```go
func (s *PGResourceStore) UpdateStatus(ctx context.Context, resourceID string, status string) error
```



<a name="PGResourceStore.UpdateTags"></a>
### func \(\*PGResourceStore\) [UpdateTags](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/resourcestore/pgstore/pgstore.go#L616>)

```go
func (s *PGResourceStore) UpdateTags(ctx context.Context, resourceID string, tags map[string]string) error
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
