<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# pgstore

```go
import "github.com/aaronlmathis/gosight-server/internal/store/userstore/pgstore"
```

Package pgstore implements the userstore.Store interface using PostgreSQL

## Index

- [type PGStore](<#PGStore>)
  - [func New\(db \*sql.DB\) \*PGStore](<#New>)
  - [func \(s \*PGStore\) AssignRoleToUser\(ctx context.Context, userID, roleID string\) error](<#PGStore.AssignRoleToUser>)
  - [func \(s \*PGStore\) AttachPermissionToRole\(ctx context.Context, roleID, permID string\) error](<#PGStore.AttachPermissionToRole>)
  - [func \(s \*PGStore\) Close\(\) error](<#PGStore.Close>)
  - [func \(s \*PGStore\) CreatePermission\(ctx context.Context, p \*usermodel.Permission\) error](<#PGStore.CreatePermission>)
  - [func \(s \*PGStore\) CreateRole\(ctx context.Context, r \*usermodel.Role\) error](<#PGStore.CreateRole>)
  - [func \(s \*PGStore\) GetUserByEmail\(ctx context.Context, email string\) \(\*usermodel.User, error\)](<#PGStore.GetUserByEmail>)
  - [func \(s \*PGStore\) GetUserByID\(ctx context.Context, ID string\) \(\*usermodel.User, error\)](<#PGStore.GetUserByID>)
  - [func \(s \*PGStore\) GetUserBySSO\(ctx context.Context, provider, ssoID string\) \(\*usermodel.User, error\)](<#PGStore.GetUserBySSO>)
  - [func \(s \*PGStore\) GetUserByUsername\(ctx context.Context, username string\) \(\*usermodel.User, error\)](<#PGStore.GetUserByUsername>)
  - [func \(s \*PGStore\) GetUserWithPermissions\(ctx context.Context, userID string\) \(\*usermodel.User, error\)](<#PGStore.GetUserWithPermissions>)
  - [func \(s \*PGStore\) SaveUser\(ctx context.Context, u \*usermodel.User\) error](<#PGStore.SaveUser>)


<a name="PGStore"></a>
## type [PGStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L11-L13>)



```go
type PGStore struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L15>)

```go
func New(db *sql.DB) *PGStore
```



<a name="PGStore.AssignRoleToUser"></a>
### func \(\*PGStore\) [AssignRoleToUser](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L136>)

```go
func (s *PGStore) AssignRoleToUser(ctx context.Context, userID, roleID string) error
```



<a name="PGStore.AttachPermissionToRole"></a>
### func \(\*PGStore\) [AttachPermissionToRole](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L170>)

```go
func (s *PGStore) AttachPermissionToRole(ctx context.Context, roleID, permID string) error
```



<a name="PGStore.Close"></a>
### func \(\*PGStore\) [Close](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L19>)

```go
func (s *PGStore) Close() error
```



<a name="PGStore.CreatePermission"></a>
### func \(\*PGStore\) [CreatePermission](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L169>)

```go
func (s *PGStore) CreatePermission(ctx context.Context, p *usermodel.Permission) error
```



<a name="PGStore.CreateRole"></a>
### func \(\*PGStore\) [CreateRole](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L167>)

```go
func (s *PGStore) CreateRole(ctx context.Context, r *usermodel.Role) error
```



<a name="PGStore.GetUserByEmail"></a>
### func \(\*PGStore\) [GetUserByEmail](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L50>)

```go
func (s *PGStore) GetUserByEmail(ctx context.Context, email string) (*usermodel.User, error)
```



<a name="PGStore.GetUserByID"></a>
### func \(\*PGStore\) [GetUserByID](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L26>)

```go
func (s *PGStore) GetUserByID(ctx context.Context, ID string) (*usermodel.User, error)
```



<a name="PGStore.GetUserBySSO"></a>
### func \(\*PGStore\) [GetUserBySSO](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L140>)

```go
func (s *PGStore) GetUserBySSO(ctx context.Context, provider, ssoID string) (*usermodel.User, error)
```



<a name="PGStore.GetUserByUsername"></a>
### func \(\*PGStore\) [GetUserByUsername](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L38>)

```go
func (s *PGStore) GetUserByUsername(ctx context.Context, username string) (*usermodel.User, error)
```



<a name="PGStore.GetUserWithPermissions"></a>
### func \(\*PGStore\) [GetUserWithPermissions](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L62>)

```go
func (s *PGStore) GetUserWithPermissions(ctx context.Context, userID string) (*usermodel.User, error)
```



<a name="PGStore.SaveUser"></a>
### func \(\*PGStore\) [SaveUser](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/userstore/pgstore/pg.go#L154>)

```go
func (s *PGStore) SaveUser(ctx context.Context, u *usermodel.User) error
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
