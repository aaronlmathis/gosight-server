<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# eventstore

```go
import "github.com/aaronlmathis/gosight-server/internal/store/eventstore"
```

## Index

- [type EventStore](<#EventStore>)
- [type JSONEventStore](<#JSONEventStore>)
  - [func NewJSONEventStore\(path string\) \(\*JSONEventStore, error\)](<#NewJSONEventStore>)
  - [func \(s \*JSONEventStore\) AddEvent\(ctx context.Context, e model.EventEntry\) error](<#JSONEventStore.AddEvent>)
  - [func \(s \*JSONEventStore\) GetByID\(ctx context.Context, id string\) \(model.EventEntry, error\)](<#JSONEventStore.GetByID>)
  - [func \(s \*JSONEventStore\) GetRecentEvents\(ctx context.Context, filter model.EventFilter\) \(\[\]model.EventEntry, error\)](<#JSONEventStore.GetRecentEvents>)


<a name="EventStore"></a>
## type [EventStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/eventstore/eventstore.go#L39-L42>)



```go
type EventStore interface {
    AddEvent(ctx context.Context, e model.EventEntry) error
    GetRecentEvents(ctx context.Context, filter model.EventFilter) ([]model.EventEntry, error)
}
```

<a name="JSONEventStore"></a>
## type [JSONEventStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/eventstore/json.go#L21-L25>)



```go
type JSONEventStore struct {
    // contains filtered or unexported fields
}
```

<a name="NewJSONEventStore"></a>
### func [NewJSONEventStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/eventstore/json.go#L30>)

```go
func NewJSONEventStore(path string) (*JSONEventStore, error)
```

NewJSONEventStore creates a new JSONEventStore instance. It takes a file path as an argument and loads the events from the file. If the file does not exist, it creates a new one.

<a name="JSONEventStore.AddEvent"></a>
### func \(\*JSONEventStore\) [AddEvent](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/eventstore/json.go#L76>)

```go
func (s *JSONEventStore) AddEvent(ctx context.Context, e model.EventEntry) error
```

AddEvent adds a new event to the store. It appends the event to the data slice and saves the updated slice to the file.

<a name="JSONEventStore.GetByID"></a>
### func \(\*JSONEventStore\) [GetByID](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/eventstore/json.go#L41>)

```go
func (s *JSONEventStore) GetByID(ctx context.Context, id string) (model.EventEntry, error)
```

GetByID retrieves an event by its ID.

<a name="JSONEventStore.GetRecentEvents"></a>
### func \(\*JSONEventStore\) [GetRecentEvents](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/store/eventstore/json.go#L93>)

```go
func (s *JSONEventStore) GetRecentEvents(ctx context.Context, filter model.EventFilter) ([]model.EventEntry, error)
```

QueryEvents retrieves events from the store based on the provided filter. It iterates through the data slice in reverse order and applies the filter criteria. The results are returned as a slice of EventEntry structs. The filter can include various criteria such as level, type, category, source, scope, target, and time range. QueryEvents retrieves events from the store based on the provided filter. It applies the filter criteria and returns a slice of EventEntry structs.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
