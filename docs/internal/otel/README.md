<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# otel

```go
import "github.com/aaronlmathis/gosight-server/internal/otel"
```

Package otel provides the OpenTelemetry Protocol \(OTLP\) support for GoSight. It includes functionality for receiving, processing, and exporting OTLP data,

## Index

- [type OTelReceiver](<#OTelReceiver>)
  - [func NewOTelReceiver\(sysCtx \*sys.SystemContext\) \(\*OTelReceiver, error\)](<#NewOTelReceiver>)
  - [func \(r \*OTelReceiver\) OTLPToTraceSpans\(req \*tracepb.ExportTraceServiceRequest\) \[\]model.TraceSpan](<#OTelReceiver.OTLPToTraceSpans>)
  - [func \(o \*OTelReceiver\) Shutdown\(\) error](<#OTelReceiver.Shutdown>)
  - [func \(o \*OTelReceiver\) Start\(\) error](<#OTelReceiver.Start>)


<a name="OTelReceiver"></a>
## type [OTelReceiver](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/otel/receiver.go#L43-L47>)

OTelReceiver encapsulates OTLP ingestion receivers for metrics and logs. It uses the OpenTelemetry Collector receiver factory under the hood. Receivers are started via Start\(\) and stopped via Shutdown\(\).

```go
type OTelReceiver struct {
    Router *mux.Router
    // contains filtered or unexported fields
}
```

<a name="NewOTelReceiver"></a>
### func [NewOTelReceiver](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/otel/receiver.go#L50>)

```go
func NewOTelReceiver(sysCtx *sys.SystemContext) (*OTelReceiver, error)
```

NewOTelReceiver constructs a new OTelReceiver based on sysCtx.Cfg.OpenTelemetry.

<a name="OTelReceiver.OTLPToTraceSpans"></a>
### func \(\*OTelReceiver\) [OTLPToTraceSpans](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/otel/convert.go#L36>)

```go
func (r *OTelReceiver) OTLPToTraceSpans(req *tracepb.ExportTraceServiceRequest) []model.TraceSpan
```

OTLPToTraceSpans converts an OTLP ExportTraceServiceRequest to a slice of model.TraceSpan. It extracts spans from the request, converting them to a format suitable for GoSight's model.

<a name="OTelReceiver.Shutdown"></a>
### func \(\*OTelReceiver\) [Shutdown](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/otel/receiver.go#L127>)

```go
func (o *OTelReceiver) Shutdown() error
```

Shutdown gracefully stops both receivers.

<a name="OTelReceiver.Start"></a>
### func \(\*OTelReceiver\) [Start](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/otel/receiver.go#L68>)

```go
func (o *OTelReceiver) Start() error
```

Start launches the metrics and logs receivers concurrently.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
