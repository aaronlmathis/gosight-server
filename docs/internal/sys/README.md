<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# sys

```go
import "github.com/aaronlmathis/gosight-server/internal/sys"
```

Package sys provides the system context for the GoSight application. It contains the SystemContext struct which holds references to various subsystems and modules, allowing for easy access and management of the application's state. The SystemContext is passed to all subsystems, providing full access to config, state, and interfaces.

## Index

- [type BufferModule](<#BufferModule>)
- [type CacheModule](<#CacheModule>)
- [type StoreModule](<#StoreModule>)
  - [func NewStoreModule\(metrics metricstore.MetricStore, logs logstore.LogStore, users userstore.UserStore, data datastore.DataStore, events eventstore.EventStore, rules rulestore.RuleStore, actions \*routestore.RouteStore, alerts alertstore.AlertStore\) \*StoreModule](<#NewStoreModule>)
- [type SystemContext](<#SystemContext>)
  - [func NewSystemContext\(ctx context.Context, cfg \*config.Config, tracker \*tracker.EndpointTracker, wsHub \*websocket.HubManager, authProviders map\[string\]gosightauth.AuthProvider, stores \*StoreModule, telemetry \*TelemetryModule, caches \*cache.Cache, buffers \*BufferModule, syncMgr \*syncmanager.SyncManager\) \*SystemContext](<#NewSystemContext>)
- [type TelemetryModule](<#TelemetryModule>)
  - [func NewTelemetryModule\(index \*metricindex.MetricIndex, meta \*metastore.MetaTracker, evaluator \*rules.Evaluator, alerts \*alerts.Manager, emitter \*events.Emitter, dispatcher \*dispatcher.Dispatcher\) \*TelemetryModule](<#NewTelemetryModule>)


<a name="BufferModule"></a>
## type [BufferModule](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/buffers.go#L27-L33>)

BufferModule is a struct that holds buffered stores for different types of data.

```go
type BufferModule struct {
    Metrics bufferengine.BufferedStore
    Logs    bufferengine.BufferedStore
    Data    bufferengine.BufferedStore
    Events  bufferengine.BufferedStore
    Alerts  bufferengine.BufferedStore
}
```

<a name="CacheModule"></a>
## type [CacheModule](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/caches.go#L28-L32>)

CacheModule is a struct that holds different types of caches. It is used to manage the in\-memory caches for the application.

```go
type CacheModule struct {
    Process cache.ProcessCache
    Metric  cache.MetricCache
}
```

<a name="StoreModule"></a>
## type [StoreModule](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/stores.go#L36-L45>)

StoreModule contains all persistent or semi\-persistent storage components.

```go
type StoreModule struct {
    Metrics metricstore.MetricStore // Time-series metrics (e.g., VictoriaMetrics)
    Logs    logstore.LogStore       // Structured logs (e.g., journald, /var/log/secure)
    Users   userstore.UserStore     // User auth, roles, permissions
    Data    datastore.DataStore     // Hosts, endpoints, agents, etc.
    Events  eventstore.EventStore   // Event logs, audit, alert events
    Rules   rulestore.RuleStore     // Alert rules defined by users
    Actions *routestore.RouteStore  // Routes loaded from alert_routes.yaml
    Alerts  alertstore.AlertStore   // Alert instances (active, resolved, history)
}
```

<a name="NewStoreModule"></a>
### func [NewStoreModule](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/stores.go#L48-L57>)

```go
func NewStoreModule(metrics metricstore.MetricStore, logs logstore.LogStore, users userstore.UserStore, data datastore.DataStore, events eventstore.EventStore, rules rulestore.RuleStore, actions *routestore.RouteStore, alerts alertstore.AlertStore) *StoreModule
```

NewStoreModule creates a new StoreModule with the provided components.

<a name="SystemContext"></a>
## type [SystemContext](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/sys.go#L40-L51>)

SystemContext is passed to all subsystems, providing full access to config, state, and interfaces.

```go
type SystemContext struct {
    Ctx     context.Context
    Cfg     *config.Config
    Tracker *tracker.EndpointTracker // Tracks endpoint state, uptime, heartbeat
    WSHub   *websocket.HubManager
    Auth    map[string]gosightauth.AuthProvider
    Stores  *StoreModule
    Tele    *TelemetryModule
    Cache   *cache.Cache
    Buffers *BufferModule
    SyncMgr *syncmanager.SyncManager
}
```

<a name="NewSystemContext"></a>
### func [NewSystemContext](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/sys.go#L57-L69>)

```go
func NewSystemContext(ctx context.Context, cfg *config.Config, tracker *tracker.EndpointTracker, wsHub *websocket.HubManager, authProviders map[string]gosightauth.AuthProvider, stores *StoreModule, telemetry *TelemetryModule, caches *cache.Cache, buffers *BufferModule, syncMgr *syncmanager.SyncManager) *SystemContext
```

NewSystemContext creates a new SystemContext with the provided parameters. It initializes the context, configuration, tracker, websocket hub, authentication providers, stores, telemetry, caches, buffers, and synchronization manager. This function is typically called during the initialization phase of the application.

<a name="TelemetryModule"></a>
## type [TelemetryModule](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/telemetry.go#L37-L44>)

TelemetryModule encapsulates telemetry\-related state and processing.

```go
type TelemetryModule struct {
    Index      *metricindex.MetricIndex // Metric name/dimension catalog
    Meta       *metastore.MetaTracker   // Tracks source metadata (labels, tags, endpoint info)
    Evaluator  *rules.Evaluator         // Rule evaluator (metrics â†’ match?)
    Alerts     *alerts.Manager          // Tracks alert state per rule/endpoint
    Emitter    *events.Emitter          // Emits events (alerts, system actions)
    Dispatcher *dispatcher.Dispatcher   // Routes alert events to actions
}
```

<a name="NewTelemetryModule"></a>
### func [NewTelemetryModule](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/sys/telemetry.go#L48-L55>)

```go
func NewTelemetryModule(index *metricindex.MetricIndex, meta *metastore.MetaTracker, evaluator *rules.Evaluator, alerts *alerts.Manager, emitter *events.Emitter, dispatcher *dispatcher.Dispatcher) *TelemetryModule
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
