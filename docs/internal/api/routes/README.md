<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# routes

```go
import "github.com/aaronlmathis/gosight-server/internal/api/routes"
```

Package routes provides HTTP route configuration for the GoSight API server. This file contains alerts and events related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. It organizes API endpoints by functional domain and applies appropriate middleware for authentication, authorization, and logging.

Package routes provides HTTP route configuration for the GoSight API server. This file contains debug and development related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains network device management related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains endpoint management related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains file upload and management related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file defines interfaces to avoid circular dependencies.

Package routes provides HTTP route configuration for the GoSight API server. This file contains log management related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains metrics and query related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains resource management routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This package organizes API endpoints by functional domain into separate files for better maintainability and code organization.

The main entry point is SetupAllRoutes which registers all route handlers with the provided router. Individual route setup functions are organized by domain:

- Authentication: auth.go
- User Management: users.go
- File Operations: files.go
- Metrics & Queries: metrics.go
- Alerts & Events: alerts.go
- Endpoint Management: endpoints.go
- Log Management: logs.go
- Tag Management: tags.go
- Device Management: devices.go
- Search & Commands: search.go
- Telemetry Data: telemetry.go
- Resource Management: resources.go
- Debug Utilities: debug.go
- WebSocket Connections: websockets.go

Package routes provides HTTP route configuration for the GoSight API server. This file contains search and command execution related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains tag management related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains telemetry data ingestion routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains user management related routes and handlers.

Package routes provides HTTP route configuration for the GoSight API server. This file contains WebSocket connection related routes and handlers.

## Index

- [func SetupAlertsRoutes\(router \*mux.Router, alertsHandler \*handlers.AlertsHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupAlertsRoutes>)
- [func SetupAllRoutes\(router \*mux.Router, sys \*sys.SystemContext, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupAllRoutes>)
- [func SetupAuthRoutes\(router \*mux.Router, authHandler \*handlers.AuthHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupAuthRoutes>)
- [func SetupCommandsRoutes\(r \*mux.Router, commandsHandler \*handlers.CommandsHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupCommandsRoutes>)
- [func SetupDebugRoutes\(router \*mux.Router, debugHandler \*handlers.DebugHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupDebugRoutes>)
- [func SetupDevicesRoutes\(router \*mux.Router, sys \*sys.SystemContext\)](<#SetupDevicesRoutes>)
- [func SetupEndpointsRoutes\(router \*mux.Router, endpointsHandler \*handlers.EndpointsHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupEndpointsRoutes>)
- [func SetupFileRoutes\(router \*mux.Router, sys \*sys.SystemContext, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupFileRoutes>)
- [func SetupLabelsRoutes\(r \*mux.Router, labelsHandler \*handlers.LabelsHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupLabelsRoutes>)
- [func SetupLogsRoutes\(router \*mux.Router, logsHandler \*handlers.LogsHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupLogsRoutes>)
- [func SetupMetricsRoutes\(router \*mux.Router, metricsHandler \*handlers.MetricsHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupMetricsRoutes>)
- [func SetupResourceRoutes\(router \*mux.Router, sys \*sys.SystemContext, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupResourceRoutes>)
- [func SetupSearchRoutes\(router \*mux.Router, sys \*sys.SystemContext\)](<#SetupSearchRoutes>)
- [func SetupTagsRoutes\(router \*mux.Router, tagsHandler \*handlers.TagsHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupTagsRoutes>)
- [func SetupTelemetryRoutes\(router \*mux.Router, telemetryHandler \*handlers.TelemetryHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupTelemetryRoutes>)
- [func SetupUserRoutes\(router \*mux.Router, usersHandler \*handlers.UsersHandler, withAccessLog func\(http.Handler\) http.Handler\)](<#SetupUserRoutes>)
- [func SetupWebSocketRoutes\(router \*mux.Router, sys \*sys.SystemContext\)](<#SetupWebSocketRoutes>)
- [type APIVersion](<#APIVersion>)
  - [func GetSupportedAPIVersionsFromConfig\(sys \*sys.SystemContext\) \[\]APIVersion](<#GetSupportedAPIVersionsFromConfig>)
- [type ServerInterface](<#ServerInterface>)


<a name="SetupAlertsRoutes"></a>
## func [SetupAlertsRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/alerts.go#L48>)

```go
func SetupAlertsRoutes(router *mux.Router, alertsHandler *handlers.AlertsHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupAlertsRoutes configures alerts and events API routes. It sets up endpoints for alert management, event handling, and alert context with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /alerts \- List alerts \(requires gosight:api:events:view permission\)
- POST /alerts \- Create alert \(requires gosight:api:events:create permission\)
- GET /alerts/\{id\} \- Get alert by ID \(requires gosight:api:events:view permission\)
- PUT /alerts/\{id\} \- Update alert \(requires gosight:api:events:update permission\)
- DELETE /alerts/\{id\} \- Delete alert \(requires gosight:api:events:delete permission\)
- GET /alerts/\{id\}/context \- Get alert context \(requires gosight:api:events:view permission\)
- GET /events \- List events \(requires gosight:api:events:view permission\)
- POST /events \- Create event \(requires gosight:api:events:create permission\)
- GET /events/\{id\} \- Get event by ID \(requires gosight:api:events:view permission\)

<a name="SetupAllRoutes"></a>
## func [SetupAllRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/routes.go#L125>)

```go
func SetupAllRoutes(router *mux.Router, sys *sys.SystemContext, withAccessLog func(http.Handler) http.Handler)
```

SetupAllRoutes configures all API routes for the GoSight server. This function serves as the main entry point for route configuration, organizing routes by functional domain and setting up appropriate middleware.

The routes are organized into the following groups:

- Authentication and session management
- User management and profile operations
- File upload and management
- Metrics querying and metadata discovery
- Alert and event management
- Monitoring endpoint configuration
- Log querying and streaming
- Tag management and assignment
- Network device discovery and monitoring
- Search functionality and command execution
- Telemetry data ingestion and processing
- Resource management and discovery
- Debug and development utilities
- WebSocket connections for real\-time data

Parameters:

- router: The main mux.Router instance to register all routes with
- sys: The SystemContext instance containing all system dependencies
- withAccessLog: Access logging middleware function

<a name="SetupAuthRoutes"></a>
## func [SetupAuthRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/auth.go#L50>)

```go
func SetupAuthRoutes(router *mux.Router, authHandler *handlers.AuthHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupAuthRoutes configures authentication\-related API routes. It sets up both public endpoints \(login, providers, OAuth callbacks\) and protected endpoints \(logout, user profile\) with appropriate middleware for logging and authentication.

Public routes:

- GET /auth/providers \- List available authentication providers
- POST /auth/login \- Authenticate user credentials
- POST /auth/mfa/verify \- Verify multi\-factor authentication
- GET /login/start \- Start OAuth authentication flow
- GET /callback \- OAuth callback handler
- POST /callback \- OAuth callback handler \(alternative method\)

Protected routes:

- POST /auth/logout \- End user session
- GET /auth/me \- Get current user information

<a name="SetupCommandsRoutes"></a>
## func [SetupCommandsRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/commands.go#L33>)

```go
func SetupCommandsRoutes(r *mux.Router, commandsHandler *handlers.CommandsHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupCommandsRoutes configures command\-related API routes

<a name="SetupDebugRoutes"></a>
## func [SetupDebugRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/debug.go#L47>)

```go
func SetupDebugRoutes(router *mux.Router, debugHandler *handlers.DebugHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupDebugRoutes configures debug and development API routes. These routes should only be enabled in development or testing environments. They provide access to internal server state, debugging information, and test utilities with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /debug/health \- Server health check \(requires gosight:api:debug:health permission\)
- GET /debug/metrics \- Internal metrics \(requires gosight:api:debug:metrics permission\)
- GET /debug/pprof \- Performance profiling \(requires gosight:api:debug:pprof permission\)
- GET /debug/config \- Server configuration \(requires gosight:api:debug:config permission\)
- POST /debug/test \- Test endpoint \(requires gosight:api:debug:test permission\)
- GET /debug/version \- Version information \(requires gosight:api:debug:info permission\)
- GET /debug/status \- System status \(requires gosight:api:debug:status permission\)

<a name="SetupDevicesRoutes"></a>
## func [SetupDevicesRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/devices.go#L49>)

```go
func SetupDevicesRoutes(router *mux.Router, sys *sys.SystemContext)
```

SetupDevicesRoutes configures network device management API routes. It sets up endpoints for device discovery, device configuration, and device monitoring with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /devices \- List all devices \(requires gosight:api:devices:view permission\)
- POST /devices \- Add new device \(requires gosight:api:devices:create permission\)
- GET /devices/\{id\} \- Get device by ID \(requires gosight:api:devices:view permission\)
- PUT /devices/\{id\} \- Update device \(requires gosight:api:devices:update permission\)
- DELETE /devices/\{id\} \- Delete device \(requires gosight:api:devices:delete permission\)
- POST /devices/discover \- Discover devices \(requires gosight:api:devices:discover permission\)
- GET /devices/\{id\}/status \- Get device status \(requires gosight:api:devices:view permission\)
- POST /devices/\{id\}/poll \- Poll device \(requires gosight:api:devices:poll permission\)
- GET /devices/\{id\}/interfaces \- Get device interfaces \(requires gosight:api:devices:view permission\)

<a name="SetupEndpointsRoutes"></a>
## func [SetupEndpointsRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/endpoints.go#L48>)

```go
func SetupEndpointsRoutes(router *mux.Router, endpointsHandler *handlers.EndpointsHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupEndpointsRoutes configures endpoint management API routes. It sets up endpoints for managing monitoring endpoints, endpoint configuration, and endpoint status with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /endpoints \- List all endpoints \(requires gosight:api:endpoints:view permission\)
- POST /endpoints \- Create new endpoint \(requires gosight:api:endpoints:create permission\)
- GET /endpoints/\{id\} \- Get endpoint by ID \(requires gosight:api:endpoints:view permission\)
- PUT /endpoints/\{id\} \- Update endpoint \(requires gosight:api:endpoints:update permission\)
- DELETE /endpoints/\{id\} \- Delete endpoint \(requires gosight:api:endpoints:delete permission\)
- POST /endpoints/\{id\}/test \- Test endpoint connection \(requires gosight:api:endpoints:test permission\)
- GET /endpoints/\{id\}/status \- Get endpoint status \(requires gosight:api:endpoints:view permission\)
- POST /endpoints/\{id\}/enable \- Enable endpoint \(requires gosight:api:endpoints:manage permission\)
- POST /endpoints/\{id\}/disable \- Disable endpoint \(requires gosight:api:endpoints:manage permission\)

<a name="SetupFileRoutes"></a>
## func [SetupFileRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/files.go#L45>)

```go
func SetupFileRoutes(router *mux.Router, sys *sys.SystemContext, withAccessLog func(http.Handler) http.Handler)
```

SetupFileRoutes configures file upload and management API routes. It sets up endpoints for file uploads with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- POST /upload \- Upload a file \(requires gosight:api:files:upload permission\)
- GET /files \- List uploaded files \(requires gosight:api:files:list permission\)
- GET /files/\{id\} \- Get file by ID \(requires gosight:api:files:view permission\)
- DELETE /files/\{id\} \- Delete file \(requires gosight:api:files:delete permission\)
- GET /files/\{id\}/download \- Download file \(requires gosight:api:files:download permission\)

<a name="SetupLabelsRoutes"></a>
## func [SetupLabelsRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/labels.go#L33>)

```go
func SetupLabelsRoutes(r *mux.Router, labelsHandler *handlers.LabelsHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupLabelsRoutes configures label\-related API routes

<a name="SetupLogsRoutes"></a>
## func [SetupLogsRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/logs.go#L45>)

```go
func SetupLogsRoutes(router *mux.Router, logsHandler *handlers.LogsHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupLogsRoutes configures log management API routes. It sets up endpoints for log querying, log streaming, and log configuration with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /logs \- Query logs \(requires gosight:api:logs:view permission\)
- GET /logs/stream \- Stream logs \(requires gosight:api:logs:stream permission\)
- GET /logs/search \- Search logs \(requires gosight:api:logs:search permission\)
- GET /logs/sources \- Get log sources \(requires gosight:api:logs:view permission\)
- POST /logs/export \- Export logs \(requires gosight:api:logs:export permission\)
- GET /logs/stats \- Get log statistics \(requires gosight:api:logs:view permission\)

<a name="SetupMetricsRoutes"></a>
## func [SetupMetricsRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/metrics.go#L48>)

```go
func SetupMetricsRoutes(router *mux.Router, metricsHandler *handlers.MetricsHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupMetricsRoutes configures metrics and query API routes. It sets up endpoints for metrics queries, metadata discovery, and data export with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /query \- Execute metrics query \(requires gosight:api:metrics:query permission\)
- GET /exportquery \- Export query results \(requires gosight:api:metrics:export permission\)
- GET /metrics \- Get metric namespaces \(requires gosight:api:metrics:meta permission\)
- GET /metrics/\{namespace\} \- Get sub\-namespaces \(requires gosight:api:metrics:meta permission\)
- GET /metrics/\{namespace\}/\{sub\} \- Get metric names \(requires gosight:api:metrics:meta permission\)
- GET /metrics/\{namespace\}/\{sub\}/\{metric\}/dimensions \- Get metric dimensions \(requires gosight:api:metrics:meta permission\)
- GET /metrics/\{namespace\}/\{sub\}/\{metric\}/labels \- Get metric labels \(requires gosight:api:metrics:meta permission\)
- GET /metrics/\{namespace\}/\{sub\}/\{metric\}/data \- Get metric data \(requires gosight:api:metrics:read permission\)
- GET /metrics/\{namespace\}/\{sub\}/\{metric\}/latest \- Get latest metric value \(requires gosight:api:metrics:read permission\)

<a name="SetupResourceRoutes"></a>
## func [SetupResourceRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/resources.go#L53>)

```go
func SetupResourceRoutes(router *mux.Router, sys *sys.SystemContext, withAccessLog func(http.Handler) http.Handler)
```

SetupResourceRoutes configures resource management API routes. It sets up endpoints for resource CRUD operations, resource discovery, and resource querying with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /resources \- List resources \(requires gosight:api:resources:view permission\)
- POST /resources \- Create resource \(requires gosight:api:resources:create permission\)
- GET /resources/\{id\} \- Get resource by ID \(requires gosight:api:resources:view permission\)
- PUT /resources/\{id\} \- Update resource \(requires gosight:api:resources:update permission\)
- DELETE /resources/\{id\} \- Delete resource \(requires gosight:api:resources:delete permission\)
- PUT /resources/\{id\}/tags \- Update resource tags \(requires gosight:api:resources:update permission\)
- PUT /resources/\{id\}/status \- Update resource status \(requires gosight:api:resources:update permission\)
- GET /resources/summary \- Get resource summary \(requires gosight:api:resources:view permission\)
- GET /resources/kinds \- Get resource kinds \(requires gosight:api:resources:view permission\)
- GET /resources/kinds/\{kind\} \- Get resources by kind \(requires gosight:api:resources:view permission\)
- POST /resources/search \- Search resources \(requires gosight:api:resources:search permission\)
- GET /resources/labels \- Get resources by labels \(requires gosight:api:resources:view permission\)
- GET /resources/tags \- Get resources by tags \(requires gosight:api:resources:view permission\)

<a name="SetupSearchRoutes"></a>
## func [SetupSearchRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/search.go#L47>)

```go
func SetupSearchRoutes(router *mux.Router, sys *sys.SystemContext)
```

SetupSearchRoutes configures search and command execution API routes. It sets up endpoints for global search, command execution, and search indexing with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /search \- Global search across all resources \(requires gosight:api:search:query permission\)
- POST /search/index \- Rebuild search index \(requires gosight:api:search:admin permission\)
- GET /search/suggestions \- Get search suggestions \(requires gosight:api:search:query permission\)
- POST /commands \- Execute command \(requires gosight:api:commands:execute permission\)
- GET /commands \- List available commands \(requires gosight:api:commands:view permission\)
- GET /commands/\{id\} \- Get command by ID \(requires gosight:api:commands:view permission\)
- GET /commands/\{id\}/status \- Get command execution status \(requires gosight:api:commands:view permission\)

<a name="SetupTagsRoutes"></a>
## func [SetupTagsRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/tags.go#L47>)

```go
func SetupTagsRoutes(router *mux.Router, tagsHandler *handlers.TagsHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupTagsRoutes configures tag management API routes. It sets up endpoints for tag CRUD operations, tag assignment, and tag filtering with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /tags \- List all tags \(requires gosight:api:tags:view permission\)
- POST /tags \- Create new tag \(requires gosight:api:tags:create permission\)
- GET /tags/\{id\} \- Get tag by ID \(requires gosight:api:tags:view permission\)
- PUT /tags/\{id\} \- Update tag \(requires gosight:api:tags:update permission\)
- DELETE /tags/\{id\} \- Delete tag \(requires gosight:api:tags:delete permission\)
- GET /tags/search \- Search tags \(requires gosight:api:tags:search permission\)
- POST /tags/\{id\}/assign \- Assign tag to resource \(requires gosight:api:tags:assign permission\)
- DELETE /tags/\{id\}/assign \- Remove tag from resource \(requires gosight:api:tags:assign permission\)

<a name="SetupTelemetryRoutes"></a>
## func [SetupTelemetryRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/telemetry.go#L42>)

```go
func SetupTelemetryRoutes(router *mux.Router, telemetryHandler *handlers.TelemetryHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupTelemetryRoutes configures telemetry data ingestion API routes. It sets up endpoints for receiving metrics, logs, and traces from agents with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- POST /telemetry/metrics \- Ingest metrics data \(requires gosight:api:telemetry:metrics permission\)
- POST /telemetry/logs \- Ingest log data \(requires gosight:api:telemetry:logs permission\)
- POST /telemetry/traces \- Ingest trace data \(requires gosight:api:telemetry:traces permission\)

<a name="SetupUserRoutes"></a>
## func [SetupUserRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/users.go#L49>)

```go
func SetupUserRoutes(router *mux.Router, usersHandler *handlers.UsersHandler, withAccessLog func(http.Handler) http.Handler)
```

SetupUserRoutes configures user management API routes. It sets up endpoints for user CRUD operations, user settings, and profile management with appropriate middleware for authentication, authorization, and logging.

Protected routes:

- GET /users \- List all users \(requires gosight:api:users:list permission\)
- POST /users \- Create a new user \(requires gosight:api:users:create permission\)
- GET /users/\{id\} \- Get user by ID \(requires gosight:api:users:view permission\)
- PUT /users/\{id\} \- Update user \(requires gosight:api:users:update permission\)
- DELETE /users/\{id\} \- Delete user \(requires gosight:api:users:delete permission\)
- POST /users/\{id\}/password \- Change user password \(requires gosight:api:users:password permission\)
- GET /users/\{id\}/settings \- Get user settings \(requires gosight:api:users:settings:view permission\)
- PUT /users/\{id\}/settings \- Update user settings \(requires gosight:api:users:settings:update permission\)
- GET /users/preferences \- Get user preferences \(requires gosight:api:users:preferences:view permission\)
- PUT /users/preferences \- Update user preferences \(requires gosight:api:users:preferences:update permission\)

<a name="SetupWebSocketRoutes"></a>
## func [SetupWebSocketRoutes](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/websockets.go#L50>)

```go
func SetupWebSocketRoutes(router *mux.Router, sys *sys.SystemContext)
```

SetupWebSocketRoutes configures WebSocket connection API routes. It sets up endpoints for real\-time data streaming over WebSocket connections with appropriate middleware for authentication and logging.

Protected routes:

- GET /ws/metrics \- WebSocket for metrics streaming \(requires authentication\)
- GET /ws/alerts \- WebSocket for alerts streaming \(requires authentication\)
- GET /ws/events \- WebSocket for events streaming \(requires authentication\)
- GET /ws/logs \- WebSocket for logs streaming \(requires authentication\)
- GET /ws/command \- WebSocket for command execution \(requires authentication\)
- GET /ws/process \- WebSocket for process monitoring \(requires authentication\)

All WebSocket endpoints require authentication but use the withAuth middleware rather than permission\-based authorization, as the specific permissions are handled within the WebSocket handlers themselves based on the requested data.

<a name="APIVersion"></a>
## type [APIVersion](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/routes.go#L55-L59>)

APIVersion represents an API version configuration \(for compatibility\)

```go
type APIVersion struct {
    Version   string
    IsDefault bool
    IsEnabled bool
}
```

<a name="GetSupportedAPIVersionsFromConfig"></a>
### func [GetSupportedAPIVersionsFromConfig](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/routes.go#L62>)

```go
func GetSupportedAPIVersionsFromConfig(sys *sys.SystemContext) []APIVersion
```

GetSupportedAPIVersionsFromConfig converts config API versions to legacy format

<a name="ServerInterface"></a>
## type [ServerInterface](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/api/routes/interfaces.go#L34-L73>)

ServerInterface defines the interface that route handlers need from the HTTP server. This interface helps avoid circular dependencies between the routes package and the httpserver package.

```go
type ServerInterface interface {
    // WithAccessLog provides access to the access logging middleware
    WithAccessLog(h http.Handler) http.Handler

    // Sys provides access to the system context including stores, config, and telemetry
    GetSys() *sys.SystemContext

    // Handler methods for alerts and events
    HandleAlertsAPI(w http.ResponseWriter, r *http.Request)
    HandleActiveAlertsAPI(w http.ResponseWriter, r *http.Request)
    HandleAlertRulesAPI(w http.ResponseWriter, r *http.Request)
    HandleCreateAlertRuleAPI(w http.ResponseWriter, r *http.Request)
    HandleAlertsSummaryAPI(w http.ResponseWriter, r *http.Request)
    HandleAlertContext(w http.ResponseWriter, r *http.Request)

    // Handler methods for user management
    HandleAPIUsers(w http.ResponseWriter, r *http.Request)
    HandleAPIUserCreate(w http.ResponseWriter, r *http.Request)
    HandleAPIUser(w http.ResponseWriter, r *http.Request)
    HandleAPIUserUpdate(w http.ResponseWriter, r *http.Request)
    HandleAPIUserDelete(w http.ResponseWriter, r *http.Request)
    HandleAPIUserPasswordChange(w http.ResponseWriter, r *http.Request)
    HandleAPIUserSettings(w http.ResponseWriter, r *http.Request)
    HandleAPIUserSettingsUpdate(w http.ResponseWriter, r *http.Request)
    HandleGetUserPreferences(w http.ResponseWriter, r *http.Request)
    HandleUpdateUserPreferences(w http.ResponseWriter, r *http.Request)

    // Handler methods for endpoint management
    HandleAPIEndpoints(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpointCreate(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpoint(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpointUpdate(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpointDelete(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpointTest(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpointStatus(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpointEnable(w http.ResponseWriter, r *http.Request)
    HandleAPIEndpointDisable(w http.ResponseWriter, r *http.Request)
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
