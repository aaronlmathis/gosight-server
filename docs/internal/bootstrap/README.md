<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# bootstrap

```go
import "github.com/aaronlmathis/gosight-server/internal/bootstrap"
```

Package bootstrap initializes the GoSight server. It sets up the logging, metric index, log store, metric store, data store, agent tracker, meta tracker, websocket hub, user store, event store, rule store, emitter/alert manager, evaluator, and authentication providers. It loads these components into a SystemContext and returns an error if any of the components fail to initialize.

SPDX\-License\-Identifier: GPL\-3.0\-or\-later

Copyright \(C\) 2025 Aaron Mathis aaron.mathis@gmail.com

This file is part of GoSight.

GoSight is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or \(at your option\) any later version.

GoSight is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with GoSight. If not, see https://www.gnu.org/licenses/.

## Index

- [func InitAlertStore\(cfg \*config.Config\) \(alertstore.AlertStore, error\)](<#InitAlertStore>)
- [func InitAuth\(cfg \*config.Config, userStore userstore.UserStore\) \(map\[string\]gosightauth.AuthProvider, error\)](<#InitAuth>)
- [func InitBufferEngine\(ctx context.Context, cfg \*config.BufferEngineConfig, stores \*sys.StoreModule\) \*sys.BufferModule](<#InitBufferEngine>)
- [func InitCaches\(ctx context.Context, dataStore datastore.DataStore\) \(\*cache.Cache, error\)](<#InitCaches>)
- [func InitDataStore\(cfg \*config.Config\) \(datastore.DataStore, error\)](<#InitDataStore>)
- [func InitEventStore\(cfg \*config.Config\) \(eventstore.EventStore, error\)](<#InitEventStore>)
- [func InitGoSight\(ctx context.Context\) \(\*sys.SystemContext, error\)](<#InitGoSight>)
- [func InitLogStore\(ctx context.Context, cfg \*config.Config, logCache cache.LogCache\) \(logstore.LogStore, error\)](<#InitLogStore>)
- [func InitMetaStore\(\) \*metastore.MetaTracker](<#InitMetaStore>)
- [func InitMetricIndex\(\) \(\*metricindex.MetricIndex, error\)](<#InitMetricIndex>)
- [func InitMetricStore\(ctx context.Context, cfg \*config.Config, metricCache cache.MetricCache\) \(metricstore.MetricStore, error\)](<#InitMetricStore>)
- [func InitRouteStore\(cfg \*config.Config\) \(\*routestore.RouteStore, error\)](<#InitRouteStore>)
- [func InitRuleStore\(cfg \*config.Config\) \(rulestore.RuleStore, error\)](<#InitRuleStore>)
- [func InitTracker\(ctx context.Context, dataStore datastore.DataStore, emitter \*events.Emitter\) \*tracker.EndpointTracker](<#InitTracker>)
- [func InitUserStore\(cfg \*config.Config\) \(userstore.UserStore, error\)](<#InitUserStore>)
- [func InitWebSocketHub\(ctx context.Context, metaStore \*metastore.MetaTracker\) \*websocket.HubManager](<#InitWebSocketHub>)
- [func LoadServerConfig\(\) \*config.Config](<#LoadServerConfig>)


<a name="InitAlertStore"></a>
## func [InitAlertStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/alertstore.go#L44>)

```go
func InitAlertStore(cfg *config.Config) (alertstore.AlertStore, error)
```

InitAlertStore initializes the alert store for the GoSight server. The alert store is responsible for storing and retrieving alert instances.

<a name="InitAuth"></a>
## func [InitAuth](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/auth.go#L33>)

```go
func InitAuth(cfg *config.Config, userStore userstore.UserStore) (map[string]gosightauth.AuthProvider, error)
```

InitAuth initializes the authentication providers for the GoSight server.

<a name="InitBufferEngine"></a>
## func [InitBufferEngine](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/bufferedengine.go#L36>)

```go
func InitBufferEngine(ctx context.Context, cfg *config.BufferEngineConfig, stores *sys.StoreModule) *sys.BufferModule
```

InitBufferEngine initializes buffered stores and the central buffer engine. It wraps existing backend stores with buffering and returns the sys.BuffersModule wrapped buffers.

<a name="InitCaches"></a>
## func [InitCaches](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/caches.go#L33>)

```go
func InitCaches(ctx context.Context, dataStore datastore.DataStore) (*cache.Cache, error)
```

InitCaches initializes caches for the system context.

<a name="InitDataStore"></a>
## func [InitDataStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/datastore.go#L38>)

```go
func InitDataStore(cfg *config.Config) (datastore.DataStore, error)
```

InitDataStore initializes the data store for the GoSight server. The data store is responsible for storing and retrieving data instances. It supports different types of data stores, such as PostgreSQL.

<a name="InitEventStore"></a>
## func [InitEventStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/eventstore.go#L35>)

```go
func InitEventStore(cfg *config.Config) (eventstore.EventStore, error)
```

InitEventStore initializes the event store for the GoSight server.

<a name="InitGoSight"></a>
## func [InitGoSight](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/init.go#L45>)

```go
func InitGoSight(ctx context.Context) (*sys.SystemContext, error)
```

initGoSight initializes the GoSight server by setting up various components such as logging, metric index, log store, metric store, data store, agent tracker, meta tracker, websocket hub, user store, event store, rule store, emitter/alert manager, evaluator, and authentication providers. It loads these components into a SystemContext and returns an error if any of the components fail to initialize.

<a name="InitLogStore"></a>
## func [InitLogStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/logstore.go#L36>)

```go
func InitLogStore(ctx context.Context, cfg *config.Config, logCache cache.LogCache) (logstore.LogStore, error)
```

InitLogStore initializes the log store for the GoSight agent. The log store is responsible for storing and retrieving logs.

<a name="InitMetaStore"></a>
## func [InitMetaStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/metricstore.go#L61>)

```go
func InitMetaStore() *metastore.MetaTracker
```

InitMetaStore initializes the meta store for the GoSight agent. The meta store is responsible for storing and retrieving metadata.

<a name="InitMetricIndex"></a>
## func [InitMetricIndex](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/metricstore.go#L37>)

```go
func InitMetricIndex() (*metricindex.MetricIndex, error)
```

InitMetricIndex initializes the metric index for the GoSight agent.

<a name="InitMetricStore"></a>
## func [InitMetricStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/metricstore.go#L46>)

```go
func InitMetricStore(ctx context.Context, cfg *config.Config, metricCache cache.MetricCache) (metricstore.MetricStore, error)
```

InitMetricStore initializes the metric store for the GoSight agent. The metric store is responsible for storing and retrieving metrics.

<a name="InitRouteStore"></a>
## func [InitRouteStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/routestore.go#L30>)

```go
func InitRouteStore(cfg *config.Config) (*routestore.RouteStore, error)
```

InitMetricIndex initializes the metric index for the GoSight agent.

<a name="InitRuleStore"></a>
## func [InitRuleStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/rulestore.go#L32>)

```go
func InitRuleStore(cfg *config.Config) (rulestore.RuleStore, error)
```

InitRuleStore initializes the rule store based on the configuration.

<a name="InitTracker"></a>
## func [InitTracker](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/tracker.go#L34>)

```go
func InitTracker(ctx context.Context, dataStore datastore.DataStore, emitter *events.Emitter) *tracker.EndpointTracker
```

InitEndpointTracker initializes the unified endpoint tracker. Tracks both agents and containers, and emits lifecycle events.

<a name="InitUserStore"></a>
## func [InitUserStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/userstore.go#L38>)

```go
func InitUserStore(cfg *config.Config) (userstore.UserStore, error)
```

InitUserStore initializes the user store for the GoSight server. The user store is responsible for storing and retrieving user and permission data. It supports different storage engines, such as PostgreSQL.

<a name="InitWebSocketHub"></a>
## func [InitWebSocketHub](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/websocket.go#L35>)

```go
func InitWebSocketHub(ctx context.Context, metaStore *metastore.MetaTracker) *websocket.HubManager
```

InitWebSocketHub initializes the WebSocket hub for the GoSight agent. The WebSocket hub is responsible for managing WebSocket connections and broadcasting messages to connected clients.

<a name="LoadServerConfig"></a>
## func [LoadServerConfig](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/bootstrap/config.go#L40>)

```go
func LoadServerConfig() *config.Config
```

LoadServerConfig loads the server configuration from a file, environment variables, and command line flags. It applies the following order of precedence: 1. Command line flags 2. Environment variables 3. Default configuration file 4. Hardcoded defaults The function returns a pointer to the loaded configuration.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
