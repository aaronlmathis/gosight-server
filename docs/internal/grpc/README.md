<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# grpcserver

```go
import "github.com/aaronlmathis/gosight-server/internal/grpc"
```

Package grpcserver provides the implementation of the gRPC server for GoSight. It handles the communication between the GoSight server and agents.

## Index

- [type GrpcServer](<#GrpcServer>)
  - [func NewGRPCServer\(sys \*sys.SystemContext\) \(\*GrpcServer, error\)](<#NewGRPCServer>)
  - [func \(g \*GrpcServer\) GracefulDisconnectAllAgents\(\)](<#GrpcServer.GracefulDisconnectAllAgents>)


<a name="GrpcServer"></a>
## type [GrpcServer](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/grpc/grpc.go#L51-L57>)

GrpcServer represents a gRPC server instance. It contains the system context, log handler, stream handler, listener, and server instance.

```go
type GrpcServer struct {
    Sys           *sys.SystemContext
    LogHandler    *telemetry.LogsHandler
    StreamHandler *telemetry.StreamHandler
    Listener      net.Listener
    Server        *grpc.Server
}
```

<a name="NewGRPCServer"></a>
### func [NewGRPCServer](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/grpc/grpc.go#L62>)

```go
func NewGRPCServer(sys *sys.SystemContext) (*GrpcServer, error)
```

NewGRPCServer creates a new gRPC server instance with the provided system context. It initializes the server with TLS configuration and registers the metrics and log services. The server listens on the address specified in the system context configuration.

<a name="GrpcServer.GracefulDisconnectAllAgents"></a>
### func \(\*GrpcServer\) [GracefulDisconnectAllAgents](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/grpc/grpc.go#L184>)

```go
func (g *GrpcServer) GracefulDisconnectAllAgents()
```

GracefulDisconnectAllAgents disconnects all agents by sending a \`disconnect\` command to each agent.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
