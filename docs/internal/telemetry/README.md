<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# telemetry

```go
import "github.com/aaronlmathis/gosight-server/internal/telemetry"
```

## Index

- [func ConvertProtoProcessPayload\(pb \*proto.ProcessPayload\) model.ProcessPayload](<#ConvertProtoProcessPayload>)
- [func ConvertToModelLogPayload\(pbPayload \*proto.LogPayload\) model.LogPayload](<#ConvertToModelLogPayload>)
- [func ConvertToModelPayload\(pbPayload \*proto.MetricPayload\) model.MetricPayload](<#ConvertToModelPayload>)
- [func MergeDimensionsWithMeta\(base map\[string\]string, meta \*model.Meta\) map\[string\]string](<#MergeDimensionsWithMeta>)
- [func SafeHandlePayload\(handler func\(\)\)](<#SafeHandlePayload>)
- [type LogsHandler](<#LogsHandler>)
  - [func NewLogsHandler\(sys \*sys.SystemContext\) \*LogsHandler](<#NewLogsHandler>)
  - [func \(h \*LogsHandler\) EvaluateSeverityLevel\(logPayload \*model.LogPayload\)](<#LogsHandler.EvaluateSeverityLevel>)
  - [func \(h \*LogsHandler\) SubmitStream\(stream pb.LogService\_SubmitStreamServer\) error](<#LogsHandler.SubmitStream>)
- [type StreamHandler](<#StreamHandler>)
  - [func NewStreamHandler\(sys \*sys.SystemContext\) \*StreamHandler](<#NewStreamHandler>)
  - [func \(h \*StreamHandler\) EnqueueCommandToAgent\(ctx context.Context, agentID string, commandType, command string, args \[\]string\) error](<#StreamHandler.EnqueueCommandToAgent>)
  - [func \(h \*StreamHandler\) Stream\(stream pb.StreamService\_StreamServer\) error](<#StreamHandler.Stream>)


<a name="ConvertProtoProcessPayload"></a>
## func [ConvertProtoProcessPayload](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/convert.go#L72>)

```go
func ConvertProtoProcessPayload(pb *proto.ProcessPayload) model.ProcessPayload
```

ConvertProtoProcessPayload converts a protobuf ProcessPayload to a model.ProcessPayload.

<a name="ConvertToModelLogPayload"></a>
## func [ConvertToModelLogPayload](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/convert.go#L107>)

```go
func ConvertToModelLogPayload(pbPayload *proto.LogPayload) model.LogPayload
```

ConvertToModelLogPayload converts a protobuf LogPayload to a model.LogPayload.

<a name="ConvertToModelPayload"></a>
## func [ConvertToModelPayload](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/convert.go#L30>)

```go
func ConvertToModelPayload(pbPayload *proto.MetricPayload) model.MetricPayload
```

ConvertToModelPayload converts a protobuf MetricPayload to a model.MetricPayload.

<a name="MergeDimensionsWithMeta"></a>
## func [MergeDimensionsWithMeta](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/helpers.go#L6>)

```go
func MergeDimensionsWithMeta(base map[string]string, meta *model.Meta) map[string]string
```

TODO \- do this better.

<a name="SafeHandlePayload"></a>
## func [SafeHandlePayload](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/guardrail.go#L34>)

```go
func SafeHandlePayload(handler func())
```

SafeHandlePayload wraps a handler function to recover from any panics that occur during its execution.

<a name="LogsHandler"></a>
## type [LogsHandler](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/logs.go#L36-L39>)



```go
type LogsHandler struct {
    Sys *sys.SystemContext
    pb.UnimplementedLogServiceServer
}
```

<a name="NewLogsHandler"></a>
### func [NewLogsHandler](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/logs.go#L41>)

```go
func NewLogsHandler(sys *sys.SystemContext) *LogsHandler
```



<a name="LogsHandler.EvaluateSeverityLevel"></a>
### func \(\*LogsHandler\) [EvaluateSeverityLevel](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/logs.go#L106>)

```go
func (h *LogsHandler) EvaluateSeverityLevel(logPayload *model.LogPayload)
```

EvaluateSeverityLevel evaluates the severity level of logs based on thresholds defined in the system. Based on that severity, different actions can be taken such as generating events that can trigger alerts.

<a name="LogsHandler.SubmitStream"></a>
### func \(\*LogsHandler\) [SubmitStream](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/logs.go#L48>)

```go
func (h *LogsHandler) SubmitStream(stream pb.LogService_SubmitStreamServer) error
```



<a name="StreamHandler"></a>
## type [StreamHandler](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/streams.go#L39-L42>)

StreamHandler implements pb.MetricsServiceServer StreamHandler implements MetricsServiceServer

```go
type StreamHandler struct {
    Sys *sys.SystemContext
    pb.UnimplementedStreamServiceServer
}
```

<a name="NewStreamHandler"></a>
### func [NewStreamHandler](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/streams.go#L44>)

```go
func NewStreamHandler(sys *sys.SystemContext) *StreamHandler
```



<a name="StreamHandler.EnqueueCommandToAgent"></a>
### func \(\*StreamHandler\) [EnqueueCommandToAgent](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/command.go#L32>)

```go
func (h *StreamHandler) EnqueueCommandToAgent(ctx context.Context, agentID string, commandType, command string, args []string) error
```



<a name="StreamHandler.Stream"></a>
### func \(\*StreamHandler\) [Stream](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/telemetry/streams.go#L51>)

```go
func (h *StreamHandler) Stream(stream pb.StreamService_StreamServer) error
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
