<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# syncmanager

```go
import "github.com/aaronlmathis/gosight-server/internal/syncmanager"
```

## Index

- [type SyncManager](<#SyncManager>)
  - [func NewSyncManager\(ctx context.Context, c \*cache.Cache, ds datastore.DataStore, tracker \*tracker.EndpointTracker, interval time.Duration\) \*SyncManager](<#NewSyncManager>)
  - [func \(s \*SyncManager\) Run\(\)](<#SyncManager.Run>)
  - [func \(s \*SyncManager\) SyncOnce\(\)](<#SyncManager.SyncOnce>)


<a name="SyncManager"></a>
## type [SyncManager](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L40-L47>)

SyncManager handles periodic persistence of in\-memory caches to the database.

```go
type SyncManager struct {
    Cache     *cache.Cache
    DataStore datastore.DataStore
    Tracker   *tracker.EndpointTracker
    Interval  time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewSyncManager"></a>
### func [NewSyncManager](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L50>)

```go
func NewSyncManager(ctx context.Context, c *cache.Cache, ds datastore.DataStore, tracker *tracker.EndpointTracker, interval time.Duration) *SyncManager
```

New creates a new SyncManager.

<a name="SyncManager.Run"></a>
### func \(\*SyncManager\) [Run](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L61>)

```go
func (s *SyncManager) Run()
```

Run starts the sync manager and blocks until ctx is cancelled. On shutdown, it flushes all caches.

<a name="SyncManager.SyncOnce"></a>
### func \(\*SyncManager\) [SyncOnce](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L133>)

```go
func (s *SyncManager) SyncOnce()
```

SyncOnce triggers a one\-time flush for all caches. Useful for shutdown or CLI tools.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
