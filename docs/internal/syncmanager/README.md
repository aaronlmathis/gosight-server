<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# syncmanager

```go
import "github.com/aaronlmathis/gosight-server/internal/syncmanager"
```

Package SyncManager is responsible for managing synchronization between the cache and the datastore. It periodically flushes the cache to the datastore and handles lifecycle events. It is designed to be run as a goroutine and will block until the context is cancelled.

## Index

- [type SyncManager](<#SyncManager>)
  - [func NewSyncManager\(ctx context.Context, c \*cache.Cache, ds datastore.DataStore, tracker \*tracker.EndpointTracker, interval time.Duration\) \*SyncManager](<#NewSyncManager>)
  - [func \(s \*SyncManager\) Run\(\)](<#SyncManager.Run>)
  - [func \(s \*SyncManager\) SyncOnce\(\)](<#SyncManager.SyncOnce>)


<a name="SyncManager"></a>
## type [SyncManager](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L41-L48>)

SyncManager handles periodic persistence of in\-memory caches to the database.

```go
type SyncManager struct {
    Cache     *cache.Cache
    DataStore datastore.DataStore
    Tracker   *tracker.EndpointTracker
    Interval  time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewSyncManager"></a>
### func [NewSyncManager](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L51>)

```go
func NewSyncManager(ctx context.Context, c *cache.Cache, ds datastore.DataStore, tracker *tracker.EndpointTracker, interval time.Duration) *SyncManager
```

NewSyncManager creates a new SyncManager.

<a name="SyncManager.Run"></a>
### func \(\*SyncManager\) [Run](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L62>)

```go
func (s *SyncManager) Run()
```

Run starts the sync manager and blocks until ctx is cancelled. On shutdown, it flushes all caches.

<a name="SyncManager.SyncOnce"></a>
### func \(\*SyncManager\) [SyncOnce](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/syncmanager/syncmanager.go#L143>)

```go
func (s *SyncManager) SyncOnce()
```

SyncOnce triggers a one\-time flush for all caches. Useful for shutdown or CLI tools.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
