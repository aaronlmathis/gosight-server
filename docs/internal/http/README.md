<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# httpserver

```go
import "github.com/aaronlmathis/gosight-server/internal/http"
```

File: server/internal/http/handleAlertContextAPI.go

Basic Handler for http server server/internal/http/handler.go

## Index

- [Constants](<#constants>)
- [func GetFlash\(w http.ResponseWriter, r \*http.Request\) string](<#GetFlash>)
- [func InjectUserContext\(ctx context.Context, user \*usermodel.User\) context.Context](<#InjectUserContext>)
- [func SetFlash\(w http.ResponseWriter, message string\)](<#SetFlash>)
- [func SortBy\(alerts \*\[\]model.AlertInstance, field, order string\)](<#SortBy>)
- [type APIMetricStore](<#APIMetricStore>)
  - [func \(a \*APIMetricStore\) Close\(\) error](<#APIMetricStore.Close>)
  - [func \(a \*APIMetricStore\) FetchDimensionsForMetric\(namespace, subnamespace, metric string\) \(\[\]string, error\)](<#APIMetricStore.FetchDimensionsForMetric>)
  - [func \(a \*APIMetricStore\) QueryInstant\(metric string, filters map\[string\]string\) \(\[\]model.MetricRow, error\)](<#APIMetricStore.QueryInstant>)
  - [func \(a \*APIMetricStore\) QueryMultiInstant\(metricNames \[\]string, filters map\[string\]string\) \(\[\]model.MetricRow, error\)](<#APIMetricStore.QueryMultiInstant>)
  - [func \(a \*APIMetricStore\) QueryMultiRange\(metrics \[\]string, start, end time.Time, step string, filters map\[string\]string\) \(\[\]model.MetricRow, error\)](<#APIMetricStore.QueryMultiRange>)
  - [func \(a \*APIMetricStore\) QueryRange\(metric string, start, end time.Time, step string, filters map\[string\]string\) \(\[\]model.Point, error\)](<#APIMetricStore.QueryRange>)
  - [func \(a \*APIMetricStore\) Write\(metrics \[\]model.MetricPayload\) error](<#APIMetricStore.Write>)
- [type AlertContextResponse](<#AlertContextResponse>)
- [type ContainerMetrics](<#ContainerMetrics>)
- [type HttpServer](<#HttpServer>)
  - [func NewServer\(sys \*sys.SystemContext\) \*HttpServer](<#NewServer>)
  - [func \(s \*HttpServer\) BuildAuthEventMeta\(user \*usermodel.User, r \*http.Request\) map\[string\]string](<#HttpServer.BuildAuthEventMeta>)
  - [func \(s \*HttpServer\) GetDimensions\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.GetDimensions>)
  - [func \(s \*HttpServer\) GetMetricData\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.GetMetricData>)
  - [func \(s \*HttpServer\) GetMetricDimensions\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.GetMetricDimensions>)
  - [func \(s \*HttpServer\) GetMetricLatest\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.GetMetricLatest>)
  - [func \(s \*HttpServer\) GetMetricNames\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.GetMetricNames>)
  - [func \(s \*HttpServer\) GetNamespaces\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.GetNamespaces>)
  - [func \(s \*HttpServer\) GetSubNamespaces\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.GetSubNamespaces>)
  - [func \(s \*HttpServer\) HandleAPIAuthProviders\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAPIAuthProviders>)
  - [func \(s \*HttpServer\) HandleAPILogin\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAPILogin>)
  - [func \(s \*HttpServer\) HandleAPILogout\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAPILogout>)
  - [func \(s \*HttpServer\) HandleAPIMFAVerify\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAPIMFAVerify>)
  - [func \(s \*HttpServer\) HandleAPIQuery\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAPIQuery>)
  - [func \(s \*HttpServer\) HandleActiveAlertsAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleActiveAlertsAPI>)
  - [func \(s \*HttpServer\) HandleAgentsAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAgentsAPI>)
  - [func \(s \*HttpServer\) HandleAgentsPage\(w http.ResponseWriter, r \*http.Request, templateDir, env string\)](<#HttpServer.HandleAgentsPage>)
  - [func \(s \*HttpServer\) HandleAlertContext\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAlertContext>)
  - [func \(s \*HttpServer\) HandleAlertRulesAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAlertRulesAPI>)
  - [func \(s \*HttpServer\) HandleAlertsAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAlertsAPI>)
  - [func \(s \*HttpServer\) HandleAlertsSummaryAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleAlertsSummaryAPI>)
  - [func \(s \*HttpServer\) HandleCacheAudit\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleCacheAudit>)
  - [func \(s \*HttpServer\) HandleCommandsAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleCommandsAPI>)
  - [func \(s \*HttpServer\) HandleContainers\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleContainers>)
  - [func \(s \*HttpServer\) HandleCreateAlertRuleAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleCreateAlertRuleAPI>)
  - [func \(s \*HttpServer\) HandleCropAvatar\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleCropAvatar>)
  - [func \(s \*HttpServer\) HandleCurrentUser\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleCurrentUser>)
  - [func \(s \*HttpServer\) HandleDeleteAvatar\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleDeleteAvatar>)
  - [func \(s \*HttpServer\) HandleDeleteTag\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleDeleteTag>)
  - [func \(s \*HttpServer\) HandleEventsAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleEventsAPI>)
  - [func \(s \*HttpServer\) HandleExportQuery\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleExportQuery>)
  - [func \(s \*HttpServer\) HandleGetCompleteUser\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleGetCompleteUser>)
  - [func \(s \*HttpServer\) HandleGetTags\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleGetTags>)
  - [func \(s \*HttpServer\) HandleGetUploadLimits\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleGetUploadLimits>)
  - [func \(s \*HttpServer\) HandleGetUserPreferences\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleGetUserPreferences>)
  - [func \(s \*HttpServer\) HandleGlobalSearchAPI\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleGlobalSearchAPI>)
  - [func \(s \*HttpServer\) HandleLabelValues\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleLabelValues>)
  - [func \(s \*HttpServer\) HandlePatchTags\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandlePatchTags>)
  - [func \(s \*HttpServer\) HandleSetTags\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleSetTags>)
  - [func \(s \*HttpServer\) HandleSvelteKitApp\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleSvelteKitApp>)
  - [func \(s \*HttpServer\) HandleSvelteKitAppWithPermission\(permission string\) http.HandlerFunc](<#HttpServer.HandleSvelteKitAppWithPermission>)
  - [func \(s \*HttpServer\) HandleTagKeys\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleTagKeys>)
  - [func \(s \*HttpServer\) HandleTagValues\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleTagValues>)
  - [func \(s \*HttpServer\) HandleUpdateUserPassword\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleUpdateUserPassword>)
  - [func \(s \*HttpServer\) HandleUpdateUserPreferences\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleUpdateUserPreferences>)
  - [func \(s \*HttpServer\) HandleUpdateUserProfile\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleUpdateUserProfile>)
  - [func \(s \*HttpServer\) HandleUploadAvatar\(w http.ResponseWriter, r \*http.Request\)](<#HttpServer.HandleUploadAvatar>)
  - [func \(s \*HttpServer\) Shutdown\(\) error](<#HttpServer.Shutdown>)
  - [func \(s \*HttpServer\) Start\(\) error](<#HttpServer.Start>)
  - [func \(s \*HttpServer\) WithAccessLog\(h http.Handler\) http.Handler](<#HttpServer.WithAccessLog>)
- [type SearchResult](<#SearchResult>)


## Constants

<a name="MaxFileSize"></a>

```go
const (
    MaxFileSize = 5 * 1024 * 1024 // 5MB max file size
    AvatarSize  = 256             // Avatar dimensions in pixels
    UploadsDir  = "uploads"
    AvatarsDir  = "uploads/avatars"
)
```

<a name="GetFlash"></a>
## func [GetFlash](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/flash.go#L47>)

```go
func GetFlash(w http.ResponseWriter, r *http.Request) string
```



<a name="InjectUserContext"></a>
## func [InjectUserContext](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/context.go#L11>)

```go
func InjectUserContext(ctx context.Context, user *usermodel.User) context.Context
```



<a name="SetFlash"></a>
## func [SetFlash](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/flash.go#L35>)

```go
func SetFlash(w http.ResponseWriter, message string)
```



<a name="SortBy"></a>
## func [SortBy](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsAPI.go#L206>)

```go
func SortBy(alerts *[]model.AlertInstance, field, order string)
```



<a name="APIMetricStore"></a>
## type [APIMetricStore](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L13-L15>)



```go
type APIMetricStore struct {
    Store metricstore.MetricStore
}
```

<a name="APIMetricStore.Close"></a>
### func \(\*APIMetricStore\) [Close](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L21>)

```go
func (a *APIMetricStore) Close() error
```



<a name="APIMetricStore.FetchDimensionsForMetric"></a>
### func \(\*APIMetricStore\) [FetchDimensionsForMetric](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L41>)

```go
func (a *APIMetricStore) FetchDimensionsForMetric(namespace, subnamespace, metric string) ([]string, error)
```



<a name="APIMetricStore.QueryInstant"></a>
### func \(\*APIMetricStore\) [QueryInstant](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L25>)

```go
func (a *APIMetricStore) QueryInstant(metric string, filters map[string]string) ([]model.MetricRow, error)
```



<a name="APIMetricStore.QueryMultiInstant"></a>
### func \(\*APIMetricStore\) [QueryMultiInstant](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L34>)

```go
func (a *APIMetricStore) QueryMultiInstant(metricNames []string, filters map[string]string) ([]model.MetricRow, error)
```



<a name="APIMetricStore.QueryMultiRange"></a>
### func \(\*APIMetricStore\) [QueryMultiRange](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L37>)

```go
func (a *APIMetricStore) QueryMultiRange(metrics []string, start, end time.Time, step string, filters map[string]string) ([]model.MetricRow, error)
```



<a name="APIMetricStore.QueryRange"></a>
### func \(\*APIMetricStore\) [QueryRange](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L30>)

```go
func (a *APIMetricStore) QueryRange(metric string, start, end time.Time, step string, filters map[string]string) ([]model.Point, error)
```



<a name="APIMetricStore.Write"></a>
### func \(\*APIMetricStore\) [Write](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/apistore.go#L17>)

```go
func (a *APIMetricStore) Write(metrics []model.MetricPayload) error
```



<a name="AlertContextResponse"></a>
## type [AlertContextResponse](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsContextAPI.go#L34-L38>)



```go
type AlertContextResponse struct {
    Alert  model.AlertInstance `json:"alert"`
    Logs   []model.LogEntry    `json:"logs"`
    Events []model.EventEntry  `json:"events"`
}
```

<a name="ContainerMetrics"></a>
## type [ContainerMetrics](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/containers.go#L37-L49>)



```go
type ContainerMetrics struct {
    Host   string            `json:"host"`
    Name   string            `json:"name"`
    Image  string            `json:"image"`
    Status string            `json:"status"`
    CPU    *float64          `json:"cpu,omitempty"`
    Mem    *float64          `json:"mem,omitempty"`
    RX     *float64          `json:"rx,omitempty"`
    TX     *float64          `json:"tx,omitempty"`
    Uptime *float64          `json:"uptime,omitempty"`
    Labels map[string]string `json:"labels,omitempty"`
    Ports  string            `json:"ports,omitempty"`
}
```

<a name="HttpServer"></a>
## type [HttpServer](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/httpserver.go#L35-L39>)



```go
type HttpServer struct {
    Router *mux.Router
    Sys    *sys.SystemContext
    // contains filtered or unexported fields
}
```

<a name="NewServer"></a>
### func [NewServer](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/httpserver.go#L43>)

```go
func NewServer(sys *sys.SystemContext) *HttpServer
```

NewServer creates a new HTTP server instance with the provided system context. It initializes the router and sets up the server configuration.

<a name="HttpServer.BuildAuthEventMeta"></a>
### func \(\*HttpServer\) [BuildAuthEventMeta](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/helpers.go#L41>)

```go
func (s *HttpServer) BuildAuthEventMeta(user *usermodel.User, r *http.Request) map[string]string
```



<a name="HttpServer.GetDimensions"></a>
### func \(\*HttpServer\) [GetDimensions](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L84>)

```go
func (s *HttpServer) GetDimensions(w http.ResponseWriter, r *http.Request)
```

GetDimensions retrieves all available dimensions. It returns a JSON object containing the dimensions. The URL format is: /api/v1/dimensions

<a name="HttpServer.GetMetricData"></a>
### func \(\*HttpServer\) [GetMetricData](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L111>)

```go
func (s *HttpServer) GetMetricData(w http.ResponseWriter, r *http.Request)
```

GetMetricData retrieves metric data for a specific metric. It accepts a namespace, subnamespace, and metric name as URL parameters. The response is a JSON object containing the metric data. The URL format is: /api/v1/\{namespace\}/\{sub\}/\{metric\}/data

<a name="HttpServer.GetMetricDimensions"></a>
### func \(\*HttpServer\) [GetMetricDimensions](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L92>)

```go
func (s *HttpServer) GetMetricDimensions(w http.ResponseWriter, r *http.Request)
```

GetMetricDimensions retrieves the dimensions for a specific metric. It accepts a namespace, subnamespace, and metric name as URL parameters. The response is a JSON object containing the dimensions. The URL format is: /api/v1/\{namespace\}/\{sub\}/\{metric\}/dimensions

<a name="HttpServer.GetMetricLatest"></a>
### func \(\*HttpServer\) [GetMetricLatest](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L162>)

```go
func (s *HttpServer) GetMetricLatest(w http.ResponseWriter, r *http.Request)
```

GetMetricLatest retrieves the latest value for a specific metric. It accepts a namespace, subnamespace, and metric name as URL parameters. The response is a JSON object containing the latest value and timestamp. The URL format is: /api/v1/\{namespace\}/\{sub\}/\{metric\}/latest

<a name="HttpServer.GetMetricNames"></a>
### func \(\*HttpServer\) [GetMetricNames](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L69>)

```go
func (s *HttpServer) GetMetricNames(w http.ResponseWriter, r *http.Request)
```

GetMetricNames retrieves all metric names for a given namespace and subnamespace. It returns a JSON object containing the metric names. The URL format is: /api/v1/\{namespace\}/\{sub\}/metrics

<a name="HttpServer.GetNamespaces"></a>
### func \(\*HttpServer\) [GetNamespaces](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L47>)

```go
func (s *HttpServer) GetNamespaces(w http.ResponseWriter, r *http.Request)
```

GetNamespaces retrieves all namespaces. It returns a JSON object containing the namespaces. The URL format is: /api/v1/

<a name="HttpServer.GetSubNamespaces"></a>
### func \(\*HttpServer\) [GetSubNamespaces](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L56>)

```go
func (s *HttpServer) GetSubNamespaces(w http.ResponseWriter, r *http.Request)
```

GetSubNamespaces retrieves all sub\-namespaces for a given namespace. It returns a JSON object containing the sub\-namespaces. The URL format is: /api/v1/\{namespace\}

<a name="HttpServer.HandleAPIAuthProviders"></a>
### func \(\*HttpServer\) [HandleAPIAuthProviders](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAuthAPI.go#L406>)

```go
func (s *HttpServer) HandleAPIAuthProviders(w http.ResponseWriter, r *http.Request)
```

HandleAPIAuthProviders returns the list of available authentication providers \(JSON API\)

<a name="HttpServer.HandleAPILogin"></a>
### func \(\*HttpServer\) [HandleAPILogin](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAuthAPI.go#L20>)

```go
func (s *HttpServer) HandleAPILogin(w http.ResponseWriter, r *http.Request)
```

HandleAPILogin handles login requests from the SvelteKit frontend \(JSON API\)

<a name="HttpServer.HandleAPILogout"></a>
### func \(\*HttpServer\) [HandleAPILogout](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAuthAPI.go#L312>)

```go
func (s *HttpServer) HandleAPILogout(w http.ResponseWriter, r *http.Request)
```

HandleAPILogout handles logout requests from the SvelteKit frontend \(JSON API\)

<a name="HttpServer.HandleAPIMFAVerify"></a>
### func \(\*HttpServer\) [HandleAPIMFAVerify](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAuthAPI.go#L171>)

```go
func (s *HttpServer) HandleAPIMFAVerify(w http.ResponseWriter, r *http.Request)
```

HandleAPIMFAVerify handles MFA verification requests from the SvelteKit frontend \(JSON API\)

<a name="HttpServer.HandleAPIQuery"></a>
### func \(\*HttpServer\) [HandleAPIQuery](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L201>)

```go
func (s *HttpServer) HandleAPIQuery(w http.ResponseWriter, r *http.Request)
```

HandleAPIQuery handles flexible label\-based queries without requiring a metric name. Supports optional time range via start= and end= query params. It also supports sorting and limiting the results. The query parameters are: \- metric: the metric name\(s\) to query \- start: the start time for the query \(RFC3339 format\) \- end: the end time for the query \(RFC3339 format\) \- step: the step interval for the query \(default is 15s\) \- limit: the maximum number of results to return \- sort: the sort order for the results \(asc or desc\) \- tags: additional filters for the query \(key=value pairs\) The response is a JSON object containing the query results.

<a name="HttpServer.HandleActiveAlertsAPI"></a>
### func \(\*HttpServer\) [HandleActiveAlertsAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsAPI.go#L94>)

```go
func (s *HttpServer) HandleActiveAlertsAPI(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleAgentsAPI"></a>
### func \(\*HttpServer\) [HandleAgentsAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAgents.go#L70>)

```go
func (s *HttpServer) HandleAgentsAPI(w http.ResponseWriter, r *http.Request)
```

// HandleAgentsAPI returns a JSON list of active agents

```
func (s *HttpServer) HandleAgentsAPI(w http.ResponseWriter, r *http.Request) {
	agents := s.Sys.Agents.GetAgents()

	sort.SliceStable(agents, func(i, j int) bool {
		return agents[i].Hostname < agents[j].Hostname
	})

	w.Header().Set("Content-Type", "application/json")
	_ = json.NewEncoder(w).Encode(agents)
}
```

<a name="HttpServer.HandleAgentsPage"></a>
### func \(\*HttpServer\) [HandleAgentsPage](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAgents.go#L39>)

```go
func (s *HttpServer) HandleAgentsPage(w http.ResponseWriter, r *http.Request, templateDir, env string)
```

RenderAgentsPage serves the agents.html template

<a name="HttpServer.HandleAlertContext"></a>
### func \(\*HttpServer\) [HandleAlertContext](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsContextAPI.go#L40>)

```go
func (s *HttpServer) HandleAlertContext(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleAlertRulesAPI"></a>
### func \(\*HttpServer\) [HandleAlertRulesAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsAPI.go#L111>)

```go
func (s *HttpServer) HandleAlertRulesAPI(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleAlertsAPI"></a>
### func \(\*HttpServer\) [HandleAlertsAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsAPI.go#L42>)

```go
func (s *HttpServer) HandleAlertsAPI(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleAlertsSummaryAPI"></a>
### func \(\*HttpServer\) [HandleAlertsSummaryAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsAPI.go#L133>)

```go
func (s *HttpServer) HandleAlertsSummaryAPI(w http.ResponseWriter, r *http.Request)
```

HandleAlertsSummaryAPI handles requests to the /api/alerts/summary endpoint It returns a summary of alerts grouped by rule\_id, showing the latest state and last change time.

<a name="HttpServer.HandleCacheAudit"></a>
### func \(\*HttpServer\) [HandleCacheAudit](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleDebug.go#L10>)

```go
func (s *HttpServer) HandleCacheAudit(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleCommandsAPI"></a>
### func \(\*HttpServer\) [HandleCommandsAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleCommandsAPI.go#L36>)

```go
func (s *HttpServer) HandleCommandsAPI(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleContainers"></a>
### func \(\*HttpServer\) [HandleContainers](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/containers.go#L51>)

```go
func (s *HttpServer) HandleContainers(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleCreateAlertRuleAPI"></a>
### func \(\*HttpServer\) [HandleCreateAlertRuleAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAlertsAPI.go#L167>)

```go
func (s *HttpServer) HandleCreateAlertRuleAPI(w http.ResponseWriter, r *http.Request)
```

HandleCreateAlert handles POST /api/v1/alerts

<a name="HttpServer.HandleCropAvatar"></a>
### func \(\*HttpServer\) [HandleCropAvatar](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleFileAPI.go#L265>)

```go
func (s *HttpServer) HandleCropAvatar(w http.ResponseWriter, r *http.Request)
```

HandleCropAvatar handles avatar cropping with specified coordinates

<a name="HttpServer.HandleCurrentUser"></a>
### func \(\*HttpServer\) [HandleCurrentUser](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleAuthAPI.go#L356>)

```go
func (s *HttpServer) HandleCurrentUser(w http.ResponseWriter, r *http.Request)
```

HandleCurrentUser handles requests to get the current authenticated user \(JSON API\)

<a name="HttpServer.HandleDeleteAvatar"></a>
### func \(\*HttpServer\) [HandleDeleteAvatar](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleFileAPI.go#L164>)

```go
func (s *HttpServer) HandleDeleteAvatar(w http.ResponseWriter, r *http.Request)
```

HandleDeleteAvatar handles profile picture deletion

<a name="HttpServer.HandleDeleteTag"></a>
### func \(\*HttpServer\) [HandleDeleteTag](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleTagsAPI.go#L102>)

```go
func (s *HttpServer) HandleDeleteTag(w http.ResponseWriter, r *http.Request)
```

HandleDeleteTag deletes a specific tag key

<a name="HttpServer.HandleEventsAPI"></a>
### func \(\*HttpServer\) [HandleEventsAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleEventAPI.go#L30>)

```go
func (s *HttpServer) HandleEventsAPI(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleExportQuery"></a>
### func \(\*HttpServer\) [HandleExportQuery](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleMetricCacheAPI.go#L366>)

```go
func (s *HttpServer) HandleExportQuery(w http.ResponseWriter, r *http.Request)
```

ExportQueryHandler handles flexible label\-based queries without requiring a metric name. Supports optional time range via start= and end= query params.

<a name="HttpServer.HandleGetCompleteUser"></a>
### func \(\*HttpServer\) [HandleGetCompleteUser](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleUserAPI.go#L333>)

```go
func (s *HttpServer) HandleGetCompleteUser(w http.ResponseWriter, r *http.Request)
```

HandleGetCompleteUser handles GET /users/me requests to get complete user data with profile and settings

<a name="HttpServer.HandleGetTags"></a>
### func \(\*HttpServer\) [HandleGetTags](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleTagsAPI.go#L36>)

```go
func (s *HttpServer) HandleGetTags(w http.ResponseWriter, r *http.Request)
```

HandleGetTags returns all tags for an endpoint

<a name="HttpServer.HandleGetUploadLimits"></a>
### func \(\*HttpServer\) [HandleGetUploadLimits](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleFileAPI.go#L531>)

```go
func (s *HttpServer) HandleGetUploadLimits(w http.ResponseWriter, r *http.Request)
```

HandleGetUploadLimits returns upload configuration limits

<a name="HttpServer.HandleGetUserPreferences"></a>
### func \(\*HttpServer\) [HandleGetUserPreferences](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleUserAPI.go#L177>)

```go
func (s *HttpServer) HandleGetUserPreferences(w http.ResponseWriter, r *http.Request)
```

HandleGetUserPreferences handles GET /users/preferences requests to get user settings

<a name="HttpServer.HandleGlobalSearchAPI"></a>
### func \(\*HttpServer\) [HandleGlobalSearchAPI](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleSearchAPI.go#L42>)

```go
func (s *HttpServer) HandleGlobalSearchAPI(w http.ResponseWriter, r *http.Request)
```



<a name="HttpServer.HandleLabelValues"></a>
### func \(\*HttpServer\) [HandleLabelValues](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleLabelsAPI.go#L36>)

```go
func (s *HttpServer) HandleLabelValues(w http.ResponseWriter, r *http.Request)
```

HandleLabelValues returns all values for a given label key from

<a name="HttpServer.HandlePatchTags"></a>
### func \(\*HttpServer\) [HandlePatchTags](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleTagsAPI.go#L72>)

```go
func (s *HttpServer) HandlePatchTags(w http.ResponseWriter, r *http.Request)
```

HandlePatchTags updates or adds individual tags

<a name="HttpServer.HandleSetTags"></a>
### func \(\*HttpServer\) [HandleSetTags](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleTagsAPI.go#L52>)

```go
func (s *HttpServer) HandleSetTags(w http.ResponseWriter, r *http.Request)
```

HandleSetTags replaces all tags for an endpoint

<a name="HttpServer.HandleSvelteKitApp"></a>
### func \(\*HttpServer\) [HandleSvelteKitApp](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/router.go#L43>)

```go
func (s *HttpServer) HandleSvelteKitApp(w http.ResponseWriter, r *http.Request)
```

HandleSvelteKitApp serves the SvelteKit application without permission requirements

<a name="HttpServer.HandleSvelteKitAppWithPermission"></a>
### func \(\*HttpServer\) [HandleSvelteKitAppWithPermission](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/router.go#L51>)

```go
func (s *HttpServer) HandleSvelteKitAppWithPermission(permission string) http.HandlerFunc
```

HandleSvelteKitAppWithPermission serves the SvelteKit application with permission check

<a name="HttpServer.HandleTagKeys"></a>
### func \(\*HttpServer\) [HandleTagKeys](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleTagsAPI.go#L123>)

```go
func (s *HttpServer) HandleTagKeys(w http.ResponseWriter, r *http.Request)
```

HandleTagKeys returns all known tag keys

<a name="HttpServer.HandleTagValues"></a>
### func \(\*HttpServer\) [HandleTagValues](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleTagsAPI.go#L129>)

```go
func (s *HttpServer) HandleTagValues(w http.ResponseWriter, r *http.Request)
```

HandleTagValues returns all values for a given key

<a name="HttpServer.HandleUpdateUserPassword"></a>
### func \(\*HttpServer\) [HandleUpdateUserPassword](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleUserAPI.go#L86>)

```go
func (s *HttpServer) HandleUpdateUserPassword(w http.ResponseWriter, r *http.Request)
```

HandleUpdateUserPassword handles PUT /users/password requests to update user password

<a name="HttpServer.HandleUpdateUserPreferences"></a>
### func \(\*HttpServer\) [HandleUpdateUserPreferences](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleUserAPI.go#L253>)

```go
func (s *HttpServer) HandleUpdateUserPreferences(w http.ResponseWriter, r *http.Request)
```

HandleUpdateUserPreferences handles PUT /users/preferences requests to update user settings

<a name="HttpServer.HandleUpdateUserProfile"></a>
### func \(\*HttpServer\) [HandleUpdateUserProfile](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleUserAPI.go#L20>)

```go
func (s *HttpServer) HandleUpdateUserProfile(w http.ResponseWriter, r *http.Request)
```

HandleUpdateUserProfile handles PUT /users/profile requests to update user profile

<a name="HttpServer.HandleUploadAvatar"></a>
### func \(\*HttpServer\) [HandleUploadAvatar](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleFileAPI.go#L34>)

```go
func (s *HttpServer) HandleUploadAvatar(w http.ResponseWriter, r *http.Request)
```

HandleUploadAvatar handles profile picture upload and processing

<a name="HttpServer.Shutdown"></a>
### func \(\*HttpServer\) [Shutdown](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/httpserver.go#L72>)

```go
func (s *HttpServer) Shutdown() error
```

Shutdown gracefully stops the HTTP server, allowing for cleanup and ensuring no active connections are abruptly terminated.

<a name="HttpServer.Start"></a>
### func \(\*HttpServer\) [Start](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/httpserver.go#L59>)

```go
func (s *HttpServer) Start() error
```

Start initializes the HTTP server, sets up routes, and starts listening for incoming requests.

<a name="HttpServer.WithAccessLog"></a>
### func \(\*HttpServer\) [WithAccessLog](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/httpserver.go#L86>)

```go
func (s *HttpServer) WithAccessLog(h http.Handler) http.Handler
```

WithAccessLog provides access to the access logging middleware for external route packages. This allows route packages to apply access logging to their handlers.

<a name="SearchResult"></a>
## type [SearchResult](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/http/handleSearchAPI.go#L34-L40>)



```go
type SearchResult struct {
    Hosts      []map[string]string `json:"hosts"`
    Containers []map[string]string `json:"containers"`
    Rules      []map[string]string `json:"rules"`
    Tags       []map[string]string `json:"tags"`
    Logs       []map[string]string `json:"logs"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
