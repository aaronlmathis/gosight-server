<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# dispatcher

```go
import "github.com/aaronlmathis/gosight-server/internal/dispatcher"
```

Package dispatcher provides functionality to manage and dispatch events to various actions based on defined routes. It allows for flexible event handling through the use of webhooks and scripts, enabling integration with external systems and custom processing of events.

## Index

- [type Dispatcher](<#Dispatcher>)
  - [func NewDispatcher\(routeMap map\[string\]model.ActionRoute\) \*Dispatcher](<#NewDispatcher>)
  - [func \(d \*Dispatcher\) Dispatch\(ctx context.Context, event model.EventEntry\)](<#Dispatcher.Dispatch>)
  - [func \(d \*Dispatcher\) ExecuteAction\(ctx context.Context, a model.ActionSpec, e model.EventEntry\)](<#Dispatcher.ExecuteAction>)
  - [func \(d \*Dispatcher\) TriggerActionByID\(ctx context.Context, actionID string, event model.EventEntry\)](<#Dispatcher.TriggerActionByID>)


<a name="Dispatcher"></a>
## type [Dispatcher](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/dispatcher/dispatcher.go#L43-L45>)

Dispatcher is responsible for managing and dispatching events to various actions based on defined routes.

```go
type Dispatcher struct {
    Routes map[string]model.ActionRoute
}
```

<a name="NewDispatcher"></a>
### func [NewDispatcher](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/dispatcher/dispatcher.go#L50>)

```go
func NewDispatcher(routeMap map[string]model.ActionRoute) *Dispatcher
```

NewDispatcher initializes a new Dispatcher with the provided route map. The route map should contain action IDs as keys and ActionRoute structs as values. The ActionRoute struct contains the match filter and a list of actions to be executed.

<a name="Dispatcher.Dispatch"></a>
### func \(\*Dispatcher\) [Dispatch](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/dispatcher/dispatcher.go#L55>)

```go
func (d *Dispatcher) Dispatch(ctx context.Context, event model.EventEntry)
```

Dispatch processes an event against all routes and triggers matching actions.

<a name="Dispatcher.ExecuteAction"></a>
### func \(\*Dispatcher\) [ExecuteAction](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/dispatcher/dispatcher.go#L100>)

```go
func (d *Dispatcher) ExecuteAction(ctx context.Context, a model.ActionSpec, e model.EventEntry)
```

ExecuteAction executes the action specified in the route. It determines the action type \(webhook or script\) and calls the appropriate function.

<a name="Dispatcher.TriggerActionByID"></a>
### func \(\*Dispatcher\) [TriggerActionByID](<https://github.com/aaronlmathis/gosight-server/blob/main/internal/dispatcher/dispatcher.go#L68>)

```go
func (d *Dispatcher) TriggerActionByID(ctx context.Context, actionID string, event model.EventEntry)
```

TriggerActionByID looks up a route by ID and executes its actions.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
