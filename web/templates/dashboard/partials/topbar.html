{{ define "dashboard/partials/topbar" }}
<!-- dashboard/partials/topbar.html -->
<header class="w-full px-6 py-3 z-50">

  <!-- Breadcrumbs -->
  <div class="text-sm text-gray-600 dark:text-gray-300 font-medium">
    {{ .Breadcrumbs }}
  </div>
  <div class="flex items-center justify-between">
    <nav class="flex" aria-label="Breadcrumb">
      <ol class="inline-flex items-center space-x-1 md:space-x-2">
        <li class="inline-flex items-center">
          <a href="#"
            class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
            <svg class="w-3 h-3 mr-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
              viewBox="0 0 20 20">
              <path
                d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
            </svg>
            Home
          </a>
        </li>
        {{ range .Breadcrumbs }}
        <li aria-current="page">
          <div class="flex items-center">
            <svg class="w-3 h-3 text-gray-400 mx-1" fill="none" viewBox="0 0 6 10">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 9 4-4-4-4" />
            </svg>
            {{ if .URL }}
            <a href="{{ .URL }}"
              class="ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-400 dark:hover:text-white">
              {{ .Label }}
            </a>
            {{ else }}
            <span class="ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400">
              {{ .Label }}
            </span>
            {{ end }}
          </div>
        </li>
        {{ end }}

      </ol>
    </nav>
    <!-- Top right controls -->
    <div class="flex items-center space-x-4">
      <div class="relative w-64">
        <input type="text" id="global-search" placeholder="Search agents, containers, logs..."
          class="w-full px-3 py-2 text-sm border rounded-md dark:bg-gray-900 border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
        <ul id="search-results"
          class="absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 text-sm rounded-md shadow-md border border-gray-200 dark:border-gray-700 hidden max-h-60 overflow-y-auto">
          <!-- Populated by JS -->
        </ul>
      </div>
      <button id="theme-toggle" type="button"
        class="text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white focus:outline-none text-lg">
        <span id="theme-toggle-light-icon" class="hidden">
          <!-- Sun Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 3v2m0 14v2m9-9h-2M5 12H3m15.364-6.364l-1.414 1.414M6.05 17.95l-1.414 1.414M17.95 17.95l1.414 1.414M6.05 6.05L4.636 4.636M12 8a4 4 0 100 8 4 4 0 000-8z" />
          </svg>
        </span>

        <span id="theme-toggle-dark-icon" class="hidden">
          <!-- Moon Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z" />
          </svg>
        </span>
      </button>
      <!-- Alarm Icon Button -->
      <button type="button"
        class="relative text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
        </svg>
        <!-- Red Dot Indicator -->
        <span
          class="absolute -top-1 -right-1 inline-flex items-center justify-center w-2 h-2 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full"></span>
      </button>
      <!-- User Dropdown (Flowbite) -->
      <button id="dropdownUserAvatarButton" data-dropdown-toggle="dropdownUserAvatar"
        class="w-11 h-11 rounded-full shadow-md object-cover" type="button">
        <img class="w-11 h-11 rounded-full object-cover"
          src="https://media.licdn.com/dms/image/v2/D5603AQE1pgfPkObY8w/profile-displayphoto-shrink_100_100/B56ZRr4qcDHsAU-/0/1736976804537?e=1749686400&v=beta&t=cIew9AT-j-UZnW_QUp9-e4SGRd3-6Utl--hKwIfLsOo"
          alt="User avatar" />
      </button>


      <!-- Dropdown menu -->
      <div id="dropdownUserAvatar"
        class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-800 dark:divide-gray-700 w-48">
        <div class="px-4 py-3">
          <span class="block text-sm text-gray-900 dark:text-white">{{ .User.FirstName }} {{ .User.LastName }}</span>
          <span class="block text-sm text-gray-500 truncate dark:text-gray-400">{{ .User.Email }}</span>
        </div>
        <ul class="py-2" aria-labelledby="dropdownUserAvatarButton">
          <li>
            <a href="/profile"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700">Profile</a>
          </li>
          <li>
            <a href="/settings"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700">Settings</a>
          </li>
          <li>
            <a href="/logout"
              class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:text-red-400 dark:hover:bg-gray-700">Sign
              out</a>
          </li>
        </ul>
      </div>


    </div>

  </div>
</header>
{{ end }}